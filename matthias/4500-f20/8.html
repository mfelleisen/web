<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>8 --- The League</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="staff.html" class="tocviewlink" data-pltdoc="x">Staff</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="A.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Your Favorite PL</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr><tr><td align="right"></td><td><a href="health.html" class="tocviewlink" data-pltdoc="x">Health</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="fish.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Fish</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> Dot Game</a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Fish</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> The Game Pieces</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> The Game State</a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Game Tree</a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> The Strategy</a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> Games!</a></td></tr><tr><td align="right"></td><td><a href="7.html" class="tocviewlink" data-pltdoc="x">7 &#8212;<wbr></wbr> The Clean Up</a></td></tr><tr><td align="right"></td><td><a href="8.html" class="tocviewselflink" data-pltdoc="x">8 &#8212;<wbr></wbr> The League</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="8.html" class="tocviewselflink" data-pltdoc="x">8 &#8212;<wbr></wbr> The League</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.9.0.4</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="7.html" title="backward to &quot;7 --- The Clean Up&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="health.html" title="forward to &quot;Health&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._8)"></a>8 &#8212;<wbr></wbr> The League</h4><a name="(part._chap~3a8)"></a><p><span style="font-weight: bold">Due</span> Thursday, 19 November 2020, 11:59:59pm</p><p><span style="font-weight: bold">Delivery</span> Place the product of this week&rsquo;s project steps into your
repo as follows:</p><p><div class="SIntrapara"><ul><li><p>for the Programming Task, place <span class="stt">manager.PP</span> into the <span class="stt">Admin/</span> directory;</p></li><li><p>for the Design Task, place <span class="stt">remote.md</span> in <span class="stt">Planning/</span></p></li><li><p>for the Testing Task, place <span class="stt">xref</span> and <span class="stt">Tests/</span> in a repo-level directory named <span class="stt">8</span></p></li></ul></div><div class="SIntrapara">You may create <span class="stt">Other/</span> directories in both <span class="stt">8</span> and <span class="stt">Fish</span>.</div></p><p><span style="color: blue">Programming Task</span> Implement the tournament manager.</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">Do not worry about how players sign up; this piece of
functionality is added when we get to the communication layer.</span></span></span>  Once all
players for a tournament are "signed up", they are handed to the tournament
manager.</p><p>The purpose of the manager is to run a single game tournament until a winner or
several winners emerge. Its first task is to inform the players that the
tournament has begun.</p><p>The tournament uses a knock-out elimination system.  The top finisher(s) of
every game of round <span style="font-style: italic">n</span> move on to round <span style="font-style: italic">n+</span>1<span style="font-style: italic"></span>.  The tournament ends
when two tournament rounds of games in a row produce the exact same winners, <span style="color: purple">when there are too few players for a single game</span>, or
when the number of participants has become small enough to run a single final
game (<span style="color: purple">and yes this game is run</span>).  In both cases, the surviving players <span class="strike" style="text-decoration:line-through">winners of all games</span> share the Billion
<a href="https://www.pitt.edu/~dash/grimm153.html">Thalers</a> (nah, make this a Trillion; we&rsquo;re all printing money now)
FishHacker Award.</p><p>The allocation of players to games works as follows. The manager starts by
assigning them to games with the maximal number of participants
permitted in ascending order of age.  Once the number of remaining players drops below the maximal
number and can&rsquo;t form a game, the manager backtracks by one game and tries
games of size one less than the maximal number and so on until all
players are assigned.</p><p>When the tournament is over, the manager informs all remaining active
players whether they won or lost.  <span style="color: purple">Winners that fail to accept this message become losers.</span></p><p><span style="color: blue">Design Task</span> We have reached the end of the second prototype stage. Our
investors are happy with the tournament demo. It is time to plan for the third
and final stage, getting ready for the release. See <a href="plan.html" data-pltdoc="x"><span style="color: red">Fish</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a>.</p><p>Design a remote collaboration protocol. The design document should consist of
two parts. The first one is an interaction diagram that specifies the timing and
the kinds of interactions between the Fish.com server (plus its relevant
components) and remote clients (and their relevant components). The second part
of the document describes the first with English prose.</p><p>Start with the <span class="emph">logical</span> interaction diagram, sever the connections between
the administrative and the player side, and develop a layer that connects the
two parts. This last step demands both the design of new components and message
formats.&#8212;<wbr></wbr>According to our plan, this design step should not demand any changes
to <span class="emph">your</span> logical components, which are now completed (and well
tested). Touching them would only re-introduce bugs. Watch Jason&rsquo;s lecture on
the remote-proxy pattern and read up on it.</p><p>Writing down a design specification twice is a debugging strategy. You and/or
the recipients will notice discrepancies between the two descriptions and iron
them out before the implementation starts.</p><p>Two pages should suffice. Less is more.</p><p><span style="color: blue">Testing Task</span> Create a test harness named <span class="stt">xref</span> The harness consumes
its JSON input from <span class="stt">STDIN</span> and produces its results to <span class="stt">STDOUT</span>. Create three
tests and place them in <span class="stt">Tests/</span>.</p><p>The tests are formulated as pairs of files:
<span class="stt">&lt;n&gt;-in.json</span>, the input,
and
<span class="stt">&lt;n&gt;-out.json</span>, the expected result, for an integer <span class="stt">&lt;n&gt;</span> greater or
equal to 1.</p><p>Its inputs are objects:</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a name="(tech._game._description)"></a><span style="font-style: italic">Game Description</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">{ </span><span class="stt">"row"</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: Natural in [2,5],</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">"column"</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">: Natural in [2,5],</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">"players"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">: [[String, </span><a href="6.html#%28tech._d%29" class="techoutside" data-pltdoc="x"><span class="techinside">D</span></a><span class="stt">], ,,,, [String, </span><a href="6.html#%28tech._d%29" class="techoutside" data-pltdoc="x"><span class="techinside">D</span></a><span class="stt">]]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="stt">"fish"</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">: Natural in [1,5] }</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">The </span><span class="stt">"players"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">field specifies an array whose length is in [2,4].</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">The </span><span style="color: purple">pairwise distinct</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">strings in this array are non-empty and consist of at</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">most 12 alphabetical ASCII characters. Finally, the player</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">specifications in this array are arranged in ascending</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">order of age</span></p></td></tr></table></p><p>INTERPRETATION The object requests that the referee runs a game with
 the specified number of players on a <span class="stt">"row"</span> by <span class="stt">"column"</span> board with
 each tile populated by exactly the number of fish specified in the
 object. <span style="color: purple">The board must be large enough to accommodate all penguins allocated to the players.</span> Each player uses the strategy from <a href="5.html" data-pltdoc="x">5 &#8212;<wbr></wbr> The Strategy</a> and explores
 the tree to specified level <a href="6.html#%28tech._d%29" class="techoutside" data-pltdoc="x"><span class="techinside">D</span></a>.</p><p><span style="font-weight: bold">Well-formed and Valid</span> You may assume that all inputs for your test
harnesses will be well-formed JSON and valid according to the homework
descriptions.</p><p>The expected output type is [String, .., String], the result of
runnung the specified game.  The Strings must be arranged in ascending
lexicographic order (see <span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3c~3d~3f%29%29" class="RktValLink" data-pltdoc="x">string&lt;=?</a></span>).</p><p>INTERPRETATION The array represents the players that shared first place.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="7.html" title="backward to &quot;7 --- The Clean Up&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="health.html" title="forward to &quot;Health&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>