<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>7 --- The Administrator</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Office Hours, Etc.</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Reviews</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="A.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Your Favorite PL</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>The Project</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>The Project</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">Test Me</a></td></tr><tr><td align="right"></td><td><a href="tsuro.html" class="tocviewlink" data-pltdoc="x">Tsuro</a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> Requirements &amp; Plans</a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Tsuro</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="localp.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Tsuro</span>, <span style="color: red">A Local Protocol</span></a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> Tile Analysis</a></td></tr><tr><td align="right"></td><td><a href="tiles.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Tsuro, Tile Types</span></a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> The Game Board</a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Rules</a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> Observing Players</a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> The Ref &amp; the Players</a></td></tr><tr><td align="right"></td><td><a href="7.html" class="tocviewselflink" data-pltdoc="x">7 &#8212;<wbr></wbr> The Administrator</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="7.html" class="tocviewselflink" data-pltdoc="x">7 &#8212;<wbr></wbr> The Administrator</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4.0.10</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="6.html" title="backward to &quot;6 --- The Ref &amp; the Players&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---The Project&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h4><a name="(part._7)"></a>7 &#8212;<wbr></wbr> The Administrator</h4><a name="(part._chap~3a7)"></a><p><span style="font-weight: bold">Due</span> Thursday, 31 October 2019, midnight</p><p><span style="font-weight: bold">Delivery</span> Place the product of this week&rsquo;s project steps into your
repo as follows:</p><ul><li><p>for the Design Task, place <span class="stt">README.md</span> in <span class="stt">Planning/</span> and
<span class="stt">xtest</span> in your <span class="stt">Tsuro/</span> directory.</p></li><li><p><div class="SIntrapara">for the Programming Task, place
</div><div class="SIntrapara"><ul><li><p><span class="stt">administrator.PP</span> in the <span class="stt">Admin/</span></p><p>The file must come with a preamble that explains which other components you
had to change to implement the administrator.</p></li><li><p><span class="stt">second-s.PP</span> in <span class="stt">Player/</span></p></li></ul></div></p></li><li><p>for the Testing Task, place <span class="stt">xref</span> and <span class="stt">ref-tests</span> in a directory named <span class="stt">7</span></p></li></ul><p><span style="color: blue">Design Task</span> A software architecture often still emerges from a
number of ad hoc decisions on the design of components. Sooner or later
someone will have to write down how things hang together because your
Tsuro.com idea has taken off and you need more software developers.</p><p><div class="SIntrapara">Write up a navigation document for your code base. The document should
explain
</div><div class="SIntrapara"><ul><li><p>what the components are,</p></li><li><p>how they statically depend on each other, and</p></li><li><p>how they dynamically interact with each other.</p></li></ul></div><div class="SIntrapara">You may use ASCII art to describe relationships with diagrams but add text
as necessary to make sure it is clear.</div></p><p>Create a test script <span class="stt">xtest</span> that runs all unit tests for your entire
code base.</p><p><span style="color: blue">Programming Task</span></p><ul><li><p>Implement the tournament administrator.</p><p>The purpose of the administrator is to run a single complete tournament.</p><p>Once all players for a tournament are "registered", the administrator
assigns them to games with the maximal number of participants
permitted. The assignment is on a first-come-first-serve ("age") basis. If
there are (<span style="color: purple">fewer than the maximal number of</span>) players left over, the last two batches of players are divided up
so that two non-maximal games are run (<span style="color: purple">in decreasing number of
players</span>). <span style="color: purple">If there are too few players, the administrator declares
the existing players winners.</span></p><p>The top two (sets of) finishers of every game in a round get to continue in
the next round. When there is only one game per round, the winner(s) of
this game is (are) the winner(s) of the tournament; they will split the
Billion CodeManistan Dollar award.</p><p><span style="color: purple">According to the protocol, the administrator informs all players of
the outcome of the game. Ours merely tells a player whether or not it won.</span></p></li><li><p>Implement a second deterministic strategy.</p><p><div class="SIntrapara">Specifically the strategy must perform two tasks as follows:
</div><div class="SIntrapara"><ul><li><p>When the player is asked to place an initial tile, it searches for
the first legal spot available in clockwise direction starting from (0,0)
[exclusive]. To place the avatar, the player searches for the first legal
port again in clockwise fashion that faces an empty square.  The player
uses the third given tile, without rotating it.</p></li><li><p><span class="refelem"><span class="refcolumn"><span class="refcontent">This point illustrates that players should have the
option of giving up.</span></span></span>
When the player is asked to take its turn, it starts the search for a
legal option with the first tile type, trying all possible rotations
starting from 0 degrees. If none of these possibilities work out, it moves
to the second one and repeats the process. If no possible action is legal,
it chooses the first tile at 0 degrees.</p></li></ul></div><div class="SIntrapara">If you need to change the player, you must document how and why at the top
of your <span class="stt">second-s.PP</span> module.</div></p></li></ul><p><span style="color: blue">Testing Task</span> Develop a test harness for the referee <span style="color: purple">using</span>
<span style="color: purple">first-s</span> <span style="color: purple">as the player strategy</span>.</p><p>The input is an array of three to five JSON strings, which represent the
names of the players. <span style="color: purple">The Players are arranged in descending order of age.</span></p><p><div class="SIntrapara">The output is an object with two fields:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">A </span><a name="(tech._ranking)"></a><span style="font-style: italic">ranking</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">{ "winners" : [</span><a href="7.html#%28tech._sorted._string._array%29" class="techoutside" data-pltdoc="x"><span class="techinside">sorted-string-array</span></a><span class="stt">, ...], "cheaters" : </span><span class="strike" style="text-decoration:line-through">rank</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt"></span><a href="7.html#%28tech._sorted._string._array%29" class="techoutside" data-pltdoc="x"><span class="techinside"><span style="color: purple">sorted-string-array</span></span></a><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">}</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">The sequence of </span><a href="7.html#%28tech._sorted._string._array%29" class="techoutside" data-pltdoc="x"><span class="techinside">sorted-string-array</span></a><span class="stt">s in the </span><span class="RktVal">"winners"</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">field drops</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">trailing empty array. Fields with empty arrays are also dropped from the object.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">A </span><a name="(tech._sorted._string._array)"></a><span style="font-style: italic">sorted-string-array</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">[String, ...]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">where the Strings are ordered in ascending, lexicographic manner.</span></p></td></tr></table></div><div class="SIntrapara">Each <a href="7.html#%28tech._sorted._string._array%29" class="techoutside" data-pltdoc="x"><span class="techinside">sorted-string-array</span></a> represents one rank of the final
outcome. The first one collects all first-place finishers, the
second one the second-place finishers, and so on.</div></p><p><div class="SIntrapara"><span style="font-weight: bold">Hint</span> Your programming language is likely to provide a predicate for
such comparisons. For example, in BSL (the smallest PL that I know you
know) you get <span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3c~3f%29%29" class="RktValLink" data-pltdoc="x">string&lt;?</a></span> and it behaves like this:
</div><div class="SIntrapara"><p><div class="SIntrapara">Examples:</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3c~3f%29%29" class="RktValLink" data-pltdoc="x">string&lt;?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"DanielA"</span><span class="hspace">&nbsp;</span><span class="RktVal">"DanielB"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3c~3f%29%29" class="RktValLink" data-pltdoc="x">string&lt;?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"DanielB"</span><span class="hspace">&nbsp;</span><span class="RktVal">"DanielA"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/strings.html#%28def._%28%28quote._~23~25kernel%29._string~3c~3f%29%29" class="RktValLink" data-pltdoc="x">string&lt;?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"DanielFrontLeft"</span><span class="hspace">&nbsp;</span><span class="RktVal">"DanielFrontRight"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote></div></p></div></p><p>Create two tests and place them in <span class="stt">ref-tests</span>.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="6.html" title="backward to &quot;6 --- The Ref &amp; the Players&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---The Project&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>