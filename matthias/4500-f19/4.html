<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>4 --- The Rules</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Office Hours, Etc.</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Reviews</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="A.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Your Favorite PL</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>The Project</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>The Project</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">Test Me</a></td></tr><tr><td align="right"></td><td><a href="tsuro.html" class="tocviewlink" data-pltdoc="x">Tsuro</a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> Requirements &amp; Plans</a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Tsuro</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="Tsuro__A_Local_Protocol.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Tsuro</span>, <span style="color: red">A Local Protocol</span></a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> Tile Analysis</a></td></tr><tr><td align="right"></td><td><a href="tiles.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Tsuro, Tile Types</span></a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> The Game Board</a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewselflink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Rules</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="4.html" class="tocviewselflink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Rules</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">7.4.0.10</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="3.html" title="backward to &quot;3 --- The Game Board&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---The Project&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h4><a name="(part._4)"></a>4 &#8212;<wbr></wbr> The Rules</h4><a name="(part._chap~3a4)"></a><p><span style="font-weight: bold">Due</span> Thursday, 10 October 2019, midnight</p><p><span style="font-weight: bold">Delivery</span> Place the product of this week&rsquo;s project steps into your
repo as follows:</p><ul><li><p>for the Design Task, place <span class="stt">referee.md</span> and <span class="stt">player.md</span> in <span class="stt">Planning/</span></p></li><li><p><div class="SIntrapara">for Programming Task, place
</div><div class="SIntrapara"><ul><li><p><span class="stt">action.PP</span> in <span class="stt">Common/</span></p></li><li><p><span class="stt">rules.PP</span>  <span class="stt">Common/</span></p></li></ul></div></p></li><li><p>for the Testing Task, place <span class="stt">xboard</span> and <span class="stt">board-tests/</span> in a
top-level directory named <span class="stt">4</span></p></li></ul><p><span style="color: blue">Design Task</span> Our plan calls for the implementation of an automated
player and a referee component, which supervises a game of a
three to five automated players.</p><p>Describe interfaces for a Tsuro referee and an automated Tsuro player.</p><p>Keep in mind that such planning documents describe <span style="font-style: italic">what</span> the desired
methods/functions should compute without pre-determining <span style="font-style: italic">how</span> they
should compute it.&#8212;<wbr></wbr>Separately describe the internal organization of the
referee and player.</p><p>The memo must not exceed two pages. Less is more.</p><p><span style="color: blue">Programming Task</span> Design the implementation of the rule enforcing
component. It relies on the design of an action component, which is a data
representation of the actions a player may request.</p><p><span style="color: purple">In addition to the basic constraints of <a href="tsuro.html" data-pltdoc="x">Tsuro</a>,</span>
for now, the following rules govern our Tsuro games.</p><p>When a player requests the initial placement of an avatar on a specific
port <span style="font-style: italic">p</span> and tile at a certain spot <span style="font-style: italic"></span>(<span style="font-style: italic">x,y</span>)<span style="font-style: italic"></span> on the board, the
requested action is legal if the squares horizontally and vertically
neighboring <span style="font-style: italic"></span>(<span style="font-style: italic">x,y</span>)<span style="font-style: italic"></span> are unoccupied and the <span style="font-style: italic">p</span> faces an
unoccupied square,</p><p><div class="SIntrapara">When a player requests the placement of a tile during its turn, the
requested placement must not conflict with the given information and
the tile placement may not cause
</div><div class="SIntrapara"><ul><li><p>the player&rsquo;s suicide, unless this is the only possible option; or</p></li><li><p>send any avatar into an infinite loop.</p></li></ul></div><div class="SIntrapara">Everything else is legal.</div></p><p><span style="color: blue">Testing Task</span> Develop an external test harness for the game board.</p><p><div class="SIntrapara">An input is a JSON array of <a href="4.html#%28tech._state._pat%29" class="techoutside" data-pltdoc="x"><span class="techinside">state-pat</span></a>s followed by a sequence of
<a href="4.html#%28tech._action._pat%29" class="techoutside" data-pltdoc="x"><span class="techinside">action-pat</span></a>s:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">A </span><a name="(tech._state._pat)"></a><span style="font-style: italic">state-pat</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is one of:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">-- </span><a href="4.html#%28tech._initial._place%29" class="techoutside" data-pltdoc="x"><span class="techinside">initial-place</span></a><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">-- </span><a href="4.html#%28tech._intermediate._place%29" class="techoutside" data-pltdoc="x"><span class="techinside">intermediate-place</span></a><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">An </span><a name="(tech._initial._place)"></a><span style="font-style: italic">initial-place</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is [</span><a href="tiles.html#%28tech._tile._pat%29" class="techoutside" data-pltdoc="x"><span class="techinside">tile-pat</span></a><span class="stt">, </span><a href="tiles.html#%28tech._color%29" class="techoutside" data-pltdoc="x"><span class="techinside">color</span></a><span class="stt">, </span><a href="tiles.html#%28tech._port%29" class="techoutside" data-pltdoc="x"><span class="techinside">port</span></a><span class="stt">, </span><a href="tsuro.html#%28tech._index%29" class="techoutside" data-pltdoc="x"><span class="techinside">index</span></a><span class="stt">, </span><a href="tsuro.html#%28tech._index%29" class="techoutside" data-pltdoc="x"><span class="techinside">index</span></a><span class="stt">]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">An </span><a name="(tech._intermediate._place)"></a><span style="font-style: italic">intermediate-place</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is [</span><a href="tiles.html#%28tech._tile._pat%29" class="techoutside" data-pltdoc="x"><span class="techinside">tile-pat</span></a><span class="stt">, </span><a href="tsuro.html#%28tech._index%29" class="techoutside" data-pltdoc="x"><span class="techinside">index</span></a><span class="stt">, </span><a href="tsuro.html#%28tech._index%29" class="techoutside" data-pltdoc="x"><span class="techinside">index</span></a><span class="stt">]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">An </span><a name="(tech._action._pat)"></a><span style="font-style: italic">action-pat</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is [</span><a href="tiles.html#%28tech._color%29" class="techoutside" data-pltdoc="x"><span class="techinside">color</span></a><span class="stt">, </span><a href="tiles.html#%28tech._tile._pat%29" class="techoutside" data-pltdoc="x"><span class="techinside">tile-pat</span></a><span class="stt">]</span></p></td></tr></table></div><div class="SIntrapara">The <span class="strike" style="text-decoration:line-through">sequence</span> <span style="color: purple">array</span> of <a href="4.html#%28tech._state._pat%29" class="techoutside" data-pltdoc="x"><span class="techinside">state-pat</span></a>s describes the current state of the board. The
<a href="4.html#%28tech._action._pat%29" class="techoutside" data-pltdoc="x"><span class="techinside">action-pat</span></a> specifies which player places which tile.</div></p><p><div class="SIntrapara">The output is one of the following:
</div><div class="SIntrapara"><ul><li><p>an <a href="4.html#%28tech._initial._place%29" class="techoutside" data-pltdoc="x"><span class="techinside">initial-place</span></a> of the shape <span class="stt">[</span><a href="tiles.html#%28tech._tile._pat%29" class="techoutside" data-pltdoc="x"><span class="techinside">tile-pat</span></a><span class="stt">, "red",</span><span class="stt">
</span><a href="tiles.html#%28tech._port%29" class="techoutside" data-pltdoc="x"><span class="techinside">port</span></a><span class="stt">, </span><a href="tsuro.html#%28tech._index%29" class="techoutside" data-pltdoc="x"><span class="techinside">index</span></a><span class="stt">, </span><a href="tsuro.html#%28tech._index%29" class="techoutside" data-pltdoc="x"><span class="techinside">index</span></a><span class="stt">]</span>, that is, the place of the red
avatar on the state resulting from the execution of the action sequence;</p></li><li><p><span class="stt">"red never played"</span> if the red avatar isn&rsquo;t a part of the initial
state to start with;</p></li><li><p><span class="stt">"red died"</span> if any of the actions sends off the red avatar;</p></li><li><p><span class="stt">"infinite"</span> if any of the actions sends an avatar into an
infinite loop;</p></li><li><p><span class="stt">"collision"</span> if two avatars (or more) avatars end up on
the same spot.</p></li></ul></div></p><p><span style="font-weight: bold">Validity</span> The input must specify a valid state of the board in terms of
tile and avatar placement. Thus the <span class="strike" style="text-decoration:line-through">sequence</span> <span style="color: purple">array</span> may contain at most one
<a href="4.html#%28tech._state._pat%29" class="techoutside" data-pltdoc="x"><span class="techinside">state-pat</span></a> that describes the location of a colored avatar, and the tiles
must be coherent.</p><p>Create five tests and place them in <span class="stt">board-tests</span>.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="3.html" title="backward to &quot;3 --- The Game Board&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---The Project&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>