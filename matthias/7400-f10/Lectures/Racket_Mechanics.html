<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>1.1&nbsp;Racket Mechanics</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x">How to Design Programs (Crash Course)</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Some_Racket__First_Design.html" class="tocviewselflink" pltdoc="x">Some Racket, First Design</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Some_More_Design__Some_More_Racket.html" class="tocviewlink" pltdoc="x">Some More Design, Some More Racket</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>1&nbsp;</td><td><a href="Some_Racket__First_Design.html" class="tocviewlink" pltdoc="x">Some Racket, First Design</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Racket Mechanics</a></td></tr><tr><td align="right">1.2&nbsp;</td><td><a href="Design_Recipe.html" class="tocviewlink" pltdoc="x">Design Recipe</a></td></tr><tr><td align="right">1.3&nbsp;</td><td><a href="Template.html" class="tocviewlink" pltdoc="x">Template</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="Some_Racket__First_Design.html" title="backward to &quot;1 Some Racket, First Design&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Some_Racket__First_Design.html" title="up to &quot;1 Some Racket, First Design&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Design_Recipe.html" title="forward to &quot;1.2 Design Recipe&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>1.1<tt>&nbsp;</tt><a name="(part._.Racket_.Mechanics)"></a>Racket Mechanics</h4><p>Racket is an untyped functional programming/scripting language. DrRacket is
its primary IDE but if you don&rsquo;t like it, you can find EMACS and VI modes
for Racket on the web.</p><p>In Racket you define and use functions. Period.</p><p><div class="SIntrapara">Here is how you define a polynomial:
</div><div class="SIntrapara"><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/define.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">P</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._%2B))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._*))" class="RktValLink" pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._expt))" class="RktValLink" pltdoc="x">expt</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._*))" class="RktValLink" pltdoc="x">*</a></span><span class="hspace">&nbsp;</span><span class="RktVal">-7</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._expt))" class="RktValLink" pltdoc="x">expt</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">42</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">The <span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/define.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span> keyword introduces a function definition,
 <span class="RktPn">(</span><span class="RktSym">P</span><span class="stt"> </span><span class="RktSym">x</span><span class="RktPn">)</span> is the function header.</div></p><p><div class="SIntrapara">Like all languages, Racket comes with many forms of conditionals. We rely
 on just one form for now: <span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/if.html#(form._((lib._racket%2Fprivate%2Fletstx-scheme..rkt)._cond))" class="RktStxLink" pltdoc="x">cond</a></span>. If you recall the sign function
 from mathematics,
</div><div class="SIntrapara"><blockquote class="SCentered"><p><img src="sign.png" alt="" /></p></blockquote></div><div class="SIntrapara">you can easily see how convenient <span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/if.html#(form._((lib._racket%2Fprivate%2Fletstx-scheme..rkt)._cond))" class="RktStxLink" pltdoc="x">cond</a></span> is in Racket. The same
 function in Racket looks like this:
</div><div class="SIntrapara"><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/define.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sign</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/if.html#(form._((lib._racket%2Fprivate%2Fletstx-scheme..rkt)._cond))" class="RktStxLink" pltdoc="x">cond</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._~3e))" class="RktValLink" pltdoc="x">&gt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._~3d))" class="RktValLink" pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">0</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._~3c))" class="RktValLink" pltdoc="x">&lt;</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">-1</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Each "line" in <span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/if.html#(form._((lib._racket%2Fprivate%2Fletstx-scheme..rkt)._cond))" class="RktStxLink" pltdoc="x">cond</a></span> consists of a <span style="font-style: italic">condition</span> and an
 <span style="font-style: italic">answer</span>. The condition is a boolean<span class="refelem"><span class="refcolumn"><span class="refcontent">Well, not
really. Anything that isn&rsquo;t false (#<span class="RktSym">f</span>) is considered true.</span></span></span>
 expression over the parameters;  the answer is any kind of expression. To
 formulate boolean expressions, you use predicates (say <span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._zero~3f))" class="RktValLink" pltdoc="x">zero?</a></span> or
 <span class="RktSym">number</span>?) and relations (<span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._~3c))" class="RktValLink" pltdoc="x">&lt;</a></span> or <span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._~3c~3d))" class="RktValLink" pltdoc="x">&lt;=</a></span>).</div></p><p>Racket has many kinds of data that you know from other programming
 languages: a complete number hierarchy, including complex numbers;
 booleans (<span class="RktVal">#t</span> and <span class="RktVal">#f</span>); strings ("hello world"); chars;
 etc.</p><p><div class="SIntrapara">Naturally a Racket programmer can also create new forms of data. To do so,
 it suffices to define a structure, like this:
</div><div class="SIntrapara"><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/define-struct.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktSym">g</span><span class="hspace">&nbsp;</span><span class="RktSym">h</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">#:transparent</span><span class="RktPn">)</span></div><div class="SIntrapara">The keyword <span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/define-struct.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span> introduces a structure definition;
 its name follows immediately (<span class="RktSym">s</span> here);
 this is followed by a parenthesized sequence of field names (<span class="RktSym">f</span>,
 <span class="RktSym">g</span>, and <span class="RktSym">h</span> in this example). A structure definition comes
 with many options; the option <span class="RktPn">#:transparent</span> enables collaboration
 with the unit testing library.</div></p><p><div class="SIntrapara">The point of a <span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/define-struct.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span> definition is to define functions. What
 else? As far as you are concerned, a <span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/define-struct.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span> definition creates
 these functions <span style="font-style: italic">every time it is evaluated</span>:
</div><div class="SIntrapara"><ul><li><p>a constructor, <span class="RktSym">s</span> in the running example, which consumes as
many values as there are fields and creates a <span style="font-style: italic">structure instance</span>
that belongs to this specific evaluation of the structure definition;</p></li><li><p>a predicate, <span class="RktSym">s?</span> in the example, which consumes one value and
determines whether it is an instance of this particular evaluation of a
structure definition; and</p></li><li><p>as many structure selectors, <span class="RktSym">s-f</span>, <span class="RktSym">s-g</span>, and
<span class="RktSym">s-h</span> here, which consume one value, test whether it is an instance
of the structure, and &ndash; if so &ndash; extract the value in the specified field.</p></li></ul></div><div class="SIntrapara">That&rsquo;s all.</div></p><p><div class="SIntrapara">DrRacket provides an interactive program development environment. It comes
 with fewer and more amenities than some other conventional IDEs. It
 certainly lacks code wizards that turn programming into a guessing
 game. The most prominent features for you are:
</div><div class="SIntrapara"><ul><li><p>the control panel;</p></li><li><p>the definitions area;</p></li><li><p>the interaction area.</p></li></ul></div><div class="SIntrapara">The latter provides a so-called read-eval-print loop.<span class="refelem"><span class="refcolumn"><span class="refcontent">Many
people call this REPL an interpreter. This is <span style="font-style: italic">wrong</span>. It is really
just a mechanism for evaluating expressions and statements one at a time;
the evaluation may exploit interpretation or compilation. See, you already
learned something.</span></span></span> A read-eval-print loop "reads" an expression at a
 time, evaluates it, and prints the result. That&rsquo;s all.</div></p><p><div class="SIntrapara">The interaction area is quite convenient for experimentation. Here are some
 experiments:
</div><div class="SIntrapara"><table cellspacing="0"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._%2B))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="hspace">&nbsp;</span><span class="RktVal">8</span><span class="hspace">&nbsp;</span><span class="RktVal">9</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">45</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._-))" class="RktValLink" pltdoc="x">-</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">-8</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._sin))" class="RktValLink" pltdoc="x">sin</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">0</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/numbers.html#(def._((quote._~23~25kernel)._sqrt))" class="RktValLink" pltdoc="x">sqrt</a></span><span class="hspace">&nbsp;</span><span class="RktVal">-1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">0+1i</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="http://pre.racket-lang.org/docs/html/reference/strings.html#(def._((quote._~23~25kernel)._string-length))" class="RktValLink" pltdoc="x">string-length</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hello world"</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">11</span></p></td></tr></table></div><div class="SIntrapara">If your definitions area contains some definitions and you click the
 <span style="font-style: italic">RUN</span> button, your expressions are evaluated in the context of these
 definitions. Thus, if you defined <span class="RktSym">sign</span> (see above) in your
 definitions area, you could conduct the following interactions in
 DrRacket after clicking <span style="font-style: italic">RUN</span>:
</div><div class="SIntrapara"><table cellspacing="0"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sign</span><span class="hspace">&nbsp;</span><span class="RktVal">55</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">1</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sign</span><span class="hspace">&nbsp;</span><span class="RktVal">-9</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">-1</span></p></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">sign</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="RktRes">0</span></p></td></tr></table></div></p><div class="navsetbottom"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="Some_Racket__First_Design.html" title="backward to &quot;1 Some Racket, First Design&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Some_Racket__First_Design.html" title="up to &quot;1 Some Racket, First Design&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Design_Recipe.html" title="forward to &quot;1.2 Design Recipe&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>