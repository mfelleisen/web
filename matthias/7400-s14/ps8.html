<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>Problem Set 8</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">7400:<span class="mywbr"> &nbsp;</span> i<span class="mywbr"> &nbsp;</span>PPL</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General Information</a></td></tr><tr><td align="right"></td><td><a href="blog.html" class="tocviewlink" data-pltdoc="x">Blog</a></td></tr><tr><td align="right"></td><td><a href="texts.html" class="tocviewlink" data-pltdoc="x">Texts</a></td></tr><tr><td align="right"></td><td><a href="writing.html" class="tocviewlink" data-pltdoc="x">Writing</a></td></tr><tr><td align="right"></td><td><a href="presenting.html" class="tocviewlink" data-pltdoc="x">Presentations</a></td></tr><tr><td align="right"></td><td><a href="syllabus.html" class="tocviewlink" data-pltdoc="x">Schedule</a></td></tr><tr><td align="right"></td><td><a href="project.html" class="tocviewlink" data-pltdoc="x">Project</a></td></tr><tr><td align="right"></td><td><a href="Problem_Sets.html" class="tocviewselflink" data-pltdoc="x">Problem Sets</a></td></tr><tr><td align="right"></td><td><a href="working-with-redex.html" class="tocviewlink" data-pltdoc="x">Working with Redex</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="Problem_Sets.html" class="tocviewlink" data-pltdoc="x">Problem Sets</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="ps1.html" class="tocviewlink" data-pltdoc="x">Problem Set 1</a></td></tr><tr><td align="right"></td><td><a href="ps2.html" class="tocviewlink" data-pltdoc="x">Problem Set 2</a></td></tr><tr><td align="right"></td><td><a href="ps3.html" class="tocviewlink" data-pltdoc="x">Problem Set 3</a></td></tr><tr><td align="right"></td><td><a href="ps4.html" class="tocviewlink" data-pltdoc="x">Problem Set 4</a></td></tr><tr><td align="right"></td><td><a href="ps5.html" class="tocviewlink" data-pltdoc="x">Problem Set 5</a></td></tr><tr><td align="right"></td><td><a href="ps6.html" class="tocviewlink" data-pltdoc="x">Problem Set 6</a></td></tr><tr><td align="right"></td><td><a href="ps7.html" class="tocviewlink" data-pltdoc="x">Problem Set 7</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Problem Set 8</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ps7.html" title="backward to &quot;Problem Set 7&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Problem_Sets.html" title="up to &quot;Problem Sets&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="working-with-redex.html" title="forward to &quot;Working with Redex&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3><a name="(part._ps8)"></a>Problem Set 8</h3><p><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><img src="homework.png" alt="home work!" width="121" height="132"/></p></blockquote></blockquote></blockquote></div><div class="SIntrapara"><span style="font-weight: bold">Programming Language</span>  Object-Oriented Programming with Types</div></p><p><span style="color: blue">Due Date</span> Formulating a solution to this problem set took me 300
lines of Redex code. Since this amount is about twice the maximal weekly
load, I have decided to give you two weeks for this problem set. It is due
on 18 March 2014.</p><p><span style="color: red">Purpose</span> This problem set asks you to formulate a type system for the
<a href="oo-revised.rkt">model of a small class-based object-oriented programming
language</a> that you got to know for <a href="ps7.html" data-pltdoc="x">Problem Set 7</a>. The PL research community
has formulated the slogan "types prevent &lsquo;message not understood&rsquo; errors"
referring to the ideas that to call a method means to send a message.</p><p><img src="pict_9.png" alt="image" width="551" height="1"/></p><p><span style="font-weight: bold">Problem 1</span> Create at least five syntactically correct programs in
<span class="RktSym">CBOO</span> that cause a run-time error in the current reduction
semantics.</p><p>Do <span style="font-style: italic">not</span> use examples that declare two classes with the same name,
a class with two identically named fields, a class with two identically
named methods, or a method with two identically named parameters. While
such problems may also trigger stuck states and should therefore be caught
by your type system (in problem 2), they are not the kind of errors we are
after.</p><p>Note: I have revised the model so that the <span class="RktSym">unload</span> function signals
"run-time error" now when the reduction semantics gets stuck. The model
also revises the syntax a bit to make programming in CBOO more like
Java. See <span class="stt">**</span> annotations.</p><p><span style="font-weight: bold">Problem 2</span> Formulate a type system that prevents all run-time errors.
<span class="refelem"><span class="refcolumn"><span class="refcontent">Using classes as types is a questionable software engineering
decision, but that it is not the point of this problem set.</span></span></span>  Start with
the language of types, which currently provides only one single type. In
this world, the language of types tends to include the names of (a
program&rsquo;s) classes. <span style="font-weight: bold">Hint</span> Keep <span class="stt">Object</span> around as a type for the
main expression; <span class="stt">Object</span> comes without fields and methods.</p><p>Next articulate judgment system. The main judgment, <span class="RktPn">(</span><span class="RktSym">typed</span><span class="stt"> </span><span class="RktSym">p</span><span class="RktPn">)</span>,
holds if <span class="RktSym">p</span> type checks.  The rules should type check suitably
modified versions of the sample programs supplied with the model. They
should <span style="font-style: italic">not</span> type check the programs from problem 1.</p><p><span style="font-weight: bold">Hints</span> (1) In essence, judgments are like functions and you must
design them like functions. This means that to check the type correctness
of a program, you will need a judgment for programs, classes, methods, and
expressions. Each of the judgments will have one case per variant.  (2)
Most of this judgments must use accumulators, called <a name="(tech._context)"></a><span style="font-style: italic">contexts</span> in
type checking systems. For one of them it is best to keep the entire
sequence of class declarations around, though if you&rsquo;re up to it, you can
strip out the information you need instead. (3) You will also need
auxiliary judgments that retrieve the type of a class constructor from a
class context; a field from a class context and a class name; and the type
of a method from the same information.</p><p><span style="font-weight: bold">Problem 3</span> Define the function <span class="RktSym">typed-evaluate</span>. It consumes
grammatically correct programs from CBOO, type-checks them, and if they
check out, runs them on the reduction semantics to produce a result. If the
programs fail to type check, the function returns <span class="RktVal">"type error"</span>.</p><p>Make sure that <span class="RktSym">typed-evaluate</span> returns <span class="RktVal">"type error"</span> for
the sample programs from problem 1.</p><p><span style="font-weight: bold">Deliverable</span> Email a tar.gz bundle to my CCS email address whose name
combines the last names of the pair in alphabetical order. The tar bundle
must contain a single directory&#8212;<wbr></wbr>with the same name as the tar ball&#8212;<wbr></wbr>with
a <span class="stt">README.txt</span> file and a <span class="stt">8.rkt</span> Redex file.</p><p><div class="SIntrapara">The <span class="stt">README.txt</span> file must start with the following lines:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">;; NameOfPartner1, NameOfPartner2</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">;; email@of.partner1.com, email@of.partner2.org</span></p></td></tr></table></div><div class="SIntrapara">appropriately instantiated of course. For this homework, use it to report
on the discrepancies found in problem 1.</div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="ps7.html" title="backward to &quot;Problem Set 7&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Problem_Sets.html" title="up to &quot;Problem Sets&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="working-with-redex.html" title="forward to &quot;Working with Redex&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>