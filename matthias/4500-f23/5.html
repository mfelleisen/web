<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>5 --- The Strategies</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="shared.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="finals.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Final Code Walks</span></a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="staff.html" class="tocviewlink" data-pltdoc="x">Staff</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="top-down.html" class="tocviewlink" data-pltdoc="x">Presenting a Milestone</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="Q.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Q Game</span></a></td></tr><tr><td align="right"></td><td><a href="components.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Components</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> The Plan</a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Q</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> The Map</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> The State</a></td></tr><tr><td align="right"></td><td><a href="partner1.html" class="tocviewlink" data-pltdoc="x"><span style="color: blue">Howdy Pardner</span></a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Score</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">5 &#8212;<wbr></wbr> The Strategies</a></td></tr><tr><td align="right"></td><td><a href="local_protocol.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Logical Interactions</span></a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> Games!</a></td></tr><tr><td align="right"></td><td><a href="7.html" class="tocviewlink" data-pltdoc="x">7 &#8212;<wbr></wbr> The Clean Up</a></td></tr><tr><td align="right"></td><td><a href="partner2.html" class="tocviewlink" data-pltdoc="x"><span style="color: blue">Howdy Pardner, Again</span></a></td></tr><tr><td align="right"></td><td><a href="8.html" class="tocviewlink" data-pltdoc="x">8 &#8212;<wbr></wbr> The Observer</a></td></tr><tr><td align="right"></td><td><a href="remote.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Remote Interactions</span></a></td></tr><tr><td align="right"></td><td><a href="9.html" class="tocviewlink" data-pltdoc="x">9 &#8212;<wbr></wbr> Remote</a></td></tr><tr><td align="right"></td><td><a href="10.html" class="tocviewlink" data-pltdoc="x">10 &#8212;<wbr></wbr> Revised!</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">5 &#8212;<wbr></wbr> The Strategies</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.10.0.1</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="4.html" title="backward to &quot;4 --- The Score&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="local_protocol.html" title="forward to &quot;Logical Interactions&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._5)"></a>5 &#8212;<wbr></wbr> The Strategies</h4><a name="(part._chap~3a5)"></a><p><span style="color: blue">Due</span> Thursday,  19 October   2023, 11:59:59pm</p><p><span style="color: blue">Delivery</span> Place the product of this week&rsquo;s milestone into your git repo as follows:</p><p><div class="SIntrapara"><ul><li><p>for the Programming Task, place <span class="stt">strategy.PP</span> into <span class="stt">Q/Player/</span>;</p></li><li><p>for the Design Task, place <span class="stt">referee-state.md</span> into <span class="stt">Planning/</span></p></li><li><p>for the Testing task, place <span class="stt">xscore</span> and <span class="stt">Tests/</span> into a top-level
repo directory named <span class="stt">5</span></p></li></ul></div><div class="SIntrapara">All previous comments on code files apply.</div></p><p><span style="color: blue">Programming Task</span> <span class="refelem"><span class="refcolumn"><span class="refcontent">Fundamentals I teaches to abstract after you
have seen several similar pieces of code. In this situation, you can see ahead of
time that the playing mechanics remains the same, that the decision-making
changes, and what the decision-making is all about. It is therefore appropriate to
abstract immediately.</span></span></span> An AI player needs a strategy. Indeed, an ambitious
participant in a Q game may wish to experiment with more than one strategy. So
a player component should handle the mechanics of playing <span class="emph">and</span> should
abstract over a strategy component.</p><p><div class="SIntrapara">Your first task is to design and implement a strategy interface and two concrete
variants. The generic purpose of a strategy component is to make decisions. A
Q player requires answers to two questions before it can compute the next action:
</div><div class="SIntrapara"><ol><li><p>which tile(s) should be placed and where;</p></li><li><p>should it pass or replace its tiles if placing at least one is impossible.</p></li></ol></div></p><p><div class="SIntrapara">Here are the chosen strategies:
</div><div class="SIntrapara"><ul><li><p>The first one is called <a name="(tech._dag)"></a><span style="font-style: italic">dag</span>. It chooses the player&rsquo;s smallest
tile that can extend the current map. If there is more than one place, it
breaks the tie using the <a href="3.html#%28tech._row._column._order%29" class="techoutside" data-pltdoc="x"><span class="techinside">row-column order</span></a> for coordinates.</p></li><li><p>The second is called <a name="(tech._ldasg)"></a><span style="font-style: italic">ldasg</span>. It chooses the player&rsquo;s smallest
tile that can extend the current map. If there is more than one place, it picks
the one that has the most existing neighbors, that is, the most constrained one.
Ties among those most-constrained places are broken using the <a href="3.html#%28tech._row._column._order%29" class="techoutside" data-pltdoc="x"><span class="techinside">row-column
order</span></a> for coordinates.</p></li></ul></div><div class="SIntrapara">Both are deterministic and thus testable. Both strategies rely on an ordering of
tiles:
</div><div class="SIntrapara"><blockquote><p> The <a name="(tech._lexicographic._ordering._on._tile)"></a><span style="font-style: italic">lexicographic ordering on tiles</span> says that
tile <span style="font-style: italic">p</span> is less than tile <span style="font-style: italic">q</span> if <span style="font-style: italic">p</span>&rsquo;s shape is less than
<span class="emph">q</span>&rsquo;s.  If <span style="font-style: italic">p</span>&rsquo;s shape is identical to <span style="font-style: italic">q</span>&rsquo;s, <span style="font-style: italic">p</span>
is below <span style="font-style: italic">q</span> iff <span style="font-style: italic">p</span>&rsquo;s color is below <span style="font-style: italic">q</span>&rsquo;s.</p><p><a href="3.html#%28tech._shape%29" class="techoutside" data-pltdoc="x"><span class="techinside">Shapes</span></a> are ordered from lowest to highest as listed in the definition.</p><p><a href="3.html#%28tech._color%29" class="techoutside" data-pltdoc="x"><span class="techinside">Colors</span></a> are ordered from lowest to highest as listed in the definition.</p></blockquote></div><div class="SIntrapara"><span style="color: purple">When a strategy determines that no tile can be placed, it opts
for replacement if possible; otherwise it passes.</span></div></p><p>Your second task is to equip your strategy component with an iteration
functionality. Starting from some game state, the piece of functionality applies
a given strategy as far as possible to obtain the longest possible series of
placements or a replacement decision or a pass decision.</p><p><span style="color: blue">Design Task</span> The referee components must communicate with the game-state
to run complete games.  The referee is a mechanism that manipulates the state
turn by turn and round by round until the game is over. If someone were to
<span class="strike" style="text-decoration:line-through">suspect</span> <span style="color: purple">suspend</span> the game for a while, the referee could resume the game from some
given&#8212;<wbr></wbr>and previously saved&#8212;<wbr></wbr>state.</p><p>Based on your current implementation of the game-state component and your
understanding of the referee-player protocol, design a full interface for the
<span style="color: purple">game-state</span> component and develop an interaction protocol between the referee and the
<span style="color: purple">game-state</span> component.  The document, named <span class="stt">referee-state.md</span>, should be a well-organized English
write-up. If you are familiar with UML sequence diagrams (or you have time to
read up on them), illustrate the prose with one of those.</p><p>Two pages should suffice. Less is more.</p><p>Keep in mind our <a href="plan.html" data-pltdoc="x"><span style="color: red">Q</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a> while you work on a design task.</p><p><span style="color: blue">Testing Task</span> Create a test harness named <span class="stt">xscore</span>. The harness
consumes its JSON input from <span class="stt">STDIN</span> and produces its results to <span class="stt">STDOUT</span>.
Create five tests ([0-4]-{in,out}.json) and place them in the specified <span class="stt">Tests/</span> folder.</p><p>A test case always consists of given inputs and expected outputs. For this
course, a test consists of a pair of files: <span class="stt">n-in.json</span>, the input file, and
<span class="stt">n-out.json</span>, the expected output file, where <span class="stt">n</span> is an integer between 0
and the requested number of tests (exclusive).&#8212;<wbr></wbr><span style="font-weight: bold">Constraint</span> No test file may exceed the size limit of 40Kb.</p><p><div class="SIntrapara">The inputs of <span class="stt">xscore</span> consist of the two JSON values:
</div><div class="SIntrapara"><ol><li><p>a <a href="3.html#%28tech._jmap%29" class="techoutside" data-pltdoc="x"><span class="techinside">JMap</span></a> object, which describes the current state of the game map;</p></li><li><p>a <a href="4.html#%28tech._jplacement%29" class="techoutside" data-pltdoc="x"><span class="techinside">JPlacements</span></a>, which describes the placement that produced
this state of affairs.</p><p><span style="color: purple">Added 25 Oct, after the initial grading of <span class="stt">xscore</span>:</span>
<span style="color: purple">All <a href="4.html#%28tech._1placement%29" class="techoutside" data-pltdoc="x"><span class="techinside">1Placement</span></a>s in these <a href="4.html#%28tech._jplacement%29" class="techoutside" data-pltdoc="x"><span class="techinside">JPlacements</span></a> are
expected to be (1) distinct, (2) in one line, and (3) be part of the
given <a href="3.html#%28tech._jmap%29" class="techoutside" data-pltdoc="x"><span class="techinside">JMap</span></a>.</span></p></li></ol></div><div class="SIntrapara">The expected output is the score that this placement gathers, i.e., a Natural.
The script cannot determine whether this placement ends the game, so it must
ignore the end-of-game bonus.</div></p><p><span style="font-weight: bold">Well-formed and Valid</span>
You may assume that all  inputs to your test harnesses from
<span class="stt">STDIN</span> are well-formed and valid.  A <span class="emph">well-formed</span> piece of
JSON satisfies the grammar; such a piece is <span class="emph">valid</span> if it
also satisfies all the side constraints of a schema
specification. </p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="4.html" title="backward to &quot;4 --- The Score&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="local_protocol.html" title="forward to &quot;Logical Interactions&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>