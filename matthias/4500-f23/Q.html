<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>The Q Game</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="shared.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="staff.html" class="tocviewlink" data-pltdoc="x">Staff</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="top-down.html" class="tocviewlink" data-pltdoc="x">Presenting a Milestone</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span style="color: red">The Q Game</span></a></td></tr><tr><td align="right"></td><td><a href="components.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Components</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> The Plan</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span style="color: red">The Q Game</span></a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.10.0.1</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="assignments.html" title="backward to &quot;---Project Milestones&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="components.html" title="forward to &quot;The Components&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._.Q)"></a><span style="color: red">The Q Game</span></h4><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Matthias Felleisen</p></span></div><a name="(part._chap~3a.Q)"></a><p><span class="refelem"><span class="refcolumn"><span class="refcontent"><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_9.png" alt="image" width="116" height="116"/></span></span></span></p><p>The game is inspired by <a href="https://en.m.wikipedia.org/wiki/Qwirkle"><span class="emph">Qwirkle</span></a>.  the actual game
may help develop some intuition but the physical game and the implementation
differ.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Most of the time when we discuss ideas, the words &ldquo;referee&rdquo;,
&ldquo;player&rdquo;, and so on refer to software components <span class="emph">not</span> people.
To remind you of their inanimate nature, it is best to use &ldquo;its&rdquo; or
&ldquo;it&rdquo;&#8212;<wbr></wbr>as in &ldquo;its game pieces&rdquo; or &ldquo;it&rsquo;s taking its turn.&rdquo;.</p></blockquote></blockquote></blockquote><p><span style="font-weight: bold">Informal Overview</span></p><p>The Q game is a tile-based game for 2 to 4
players. These players place the tiles on an infinitely large &ldquo;table.&rdquo; The
square shape of the tiles and the rules of the game induce the notions of row
and column on the evolving map formation.</p><p>Players place tiles according to rather basic rules. Every placement yields a
certain number of points. When a player can use all of its tiles during a single
turn, the game ends. The game also ends when all game tiles have been placed or
all players pass during a round.</p><p>The player with the highest total score wins.</p><p><span style="font-weight: bold">Game Pieces</span></p><p><div class="SIntrapara">Our version of the game comes with 36 kinds of tiles:
</div><div class="SIntrapara"><blockquote><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td style="border-bottom: 1px solid black;"><p></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>red</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>green</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>blue</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>yellow</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>orange</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>purple</p></td></tr><tr><td valign="top"><p>star</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_10.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_11.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_12.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_13.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_14.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_15.png" alt="image" width="68" height="68"/></p></td></tr><tr><td valign="top"><p>8star</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_16.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_17.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_18.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_19.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_20.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_21.png" alt="image" width="68" height="68"/></p></td></tr><tr><td valign="top"><p>square</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_22.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_23.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_24.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_25.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_26.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_27.png" alt="image" width="68" height="68"/></p></td></tr><tr><td valign="top"><p>circle</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_28.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_29.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_30.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_31.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_32.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_33.png" alt="image" width="68" height="68"/></p></td></tr><tr><td valign="top"><p>clover</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_34.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_35.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_36.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_37.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_38.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_39.png" alt="image" width="68" height="68"/></p></td></tr><tr><td valign="top"><p>diamond</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_40.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_41.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_42.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_43.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_44.png" alt="image" width="68" height="68"/></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_45.png" alt="image" width="68" height="68"/></p></td></tr></table></blockquote></div><div class="SIntrapara">Altogether there are a total of 1080 tiles, 30 of each kind.</div></p><p><span style="font-weight: bold">Setting up the Game</span></p><p>The <span class="emph">referee</span> hands each player six randomly chosen tiles. It then places
one tile on the &ldquo;table.&rdquo; Once this first tile is placed, the players take
turns in descending order of age, starting with the oldest.</p><p>The players do not tell each other which tiles they own.</p><p>The current scores of the players is public knowledge as is the number of
remaining tiles and the order in which they take turns.</p><p><span style="font-weight: bold">Playing a Turn</span></p><p><div class="SIntrapara">When granted a turn, a player may take one of the following three actions:
</div><div class="SIntrapara"><ol><li><p><span class="emph">pass</span>;</p></li><li><p><span class="emph">exchange</span> all of its tiles for new ones, which is only possible if
the referee still has enough tiles;</p><p>The referee hands back the same number of tiles, drawn from its own
(randomly arranged) collection.</p><p>The returned tiles are added to the end of the referee&rsquo;s collection
of tiles, to be handed out in the future as needed.</p></li><li><p><span class="emph">place</span> at least one tile or several tiles, which are then added to
the map in sequential order.</p><p><div class="SIntrapara">A placement of tiles must satisfy these conditions:
</div><div class="SIntrapara"><ul><li><p>every tile placed must share a side with at least one tile on the map
that it extends;</p></li><li><p>every tile placed must match the colors of its immediate neighbors (if
any) along a line (row, column) or it must match the shapes along a line;</p></li><li><p>all tiles placed during a turn must be in the same row or column,
though not necessarily adjacent to each other.</p></li></ul></div><div class="SIntrapara">The referee hands the player as many tiles as it placed, drawn from its
randomly arranged collection or all remaining tiles if the player placed more
than the referee has left.</div></p></li></ol></div><div class="SIntrapara">The referee eliminates any player that violates any rules during a turn.</div></p><p><span style="font-weight: bold">Scoring a Turn</span> A player that passes or exchanges its tiles receives no
points.</p><p><div class="SIntrapara">If the player requests a placement, the referee checks whether it is legal and
constructs the extended map. Based on this new map, the referee assigns points
for a turn as follows:
</div><div class="SIntrapara"><ul><li><p>A player receives one point per tile placed.</p></li><li><p>A player receives one point per tile in a contiguous sequence of a row
or column that at least one of its newly placed tiles <span class="emph">extends</span>.</p></li><li><p>A player receives 6 bonus points for
<span class="emph">completing</span> a Q, which is a contiguous sequence of tiles that
contains all shapes or all colors.</p></li><li><p>A player also receives 6 bonus points for
placing all tiles in its possession.</p></li></ul></div><div class="SIntrapara">The referee keep track of the scores on a per turn basis and shares the scores
of all players with the player to whom it grants a turn.</div></p><p><span style="font-weight: bold">Ending a Game</span></p><p>The game ends if one of the following condition holds:</p><p><div class="SIntrapara"><ul><li><p>at the end of a round if all remaining players pass or replace their tiles;</p></li><li><p>at the end of a turn if a player has placed all tiles in its possession; or</p></li><li><p>there are no players left after a turn.</p></li></ul></div><div class="SIntrapara">Once a player has requested the placement of tiles, the current round of turns
cannot end the game even if this player drops out (for whatever reason) and even
if all other players pass or request exchanges.</div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="assignments.html" title="backward to &quot;---Project Milestones&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="components.html" title="forward to &quot;The Components&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>