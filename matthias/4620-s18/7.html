<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>7 --- Simple Types (b)</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="figure.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="figure.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Hack Your Own Language</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communication</a></td></tr><tr><td align="right"></td><td><a href="syllabus.html" class="tocviewlink" data-pltdoc="x">Syllabus</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Project</a></td></tr><tr><td align="right"></td><td><a href="memo.html" class="tocviewlink" data-pltdoc="x">Project Memos</a></td></tr><tr><td align="right"></td><td><a href="present.html" class="tocviewlink" data-pltdoc="x">Project Presentations</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">Assignments</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">Assignments</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> Examples of Embedded Languages</a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> S-<wbr></wbr>expressions Transformations</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> Racket Syntax Extensions</a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> Racket Languages 1</a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> Racket Languages 2</a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> Simple Types (a)</a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x">7 &#8212;<wbr></wbr> Simple Types (b)</a></td></tr><tr><td align="right"></td><td><a href="8.html" class="tocviewlink" data-pltdoc="x">8 &#8212;<wbr></wbr> Project Memo</a></td></tr><tr><td align="right"></td><td><a href="9.html" class="tocviewlink" data-pltdoc="x">9 &#8212;<wbr></wbr> Capstone Memo</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">7 &#8212;<wbr></wbr> Simple Types (b)</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">6.12.0.3</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="6.html" title="backward to &quot;6 --- Simple Types (a)&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="8.html" title="forward to &quot;8 --- Project Memo&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._7)"></a>7 &#8212;<wbr></wbr> Simple Types (b)</h4><a name="(part._chap~3a7)"></a><blockquote class="SCentered"><p><span class="Larger"><span style="color: red">Draft</span></span></p></blockquote><p><span style="font-weight: bold">Due</span> Tuesday, 27 Feb; 9:00am</p><p><div class="SIntrapara"><span style="font-weight: bold">Delivery</span> Send me a zip file named <span class="stt">7-lastname1-lastname2.zip</span>
with your solutions. The zip archive should contain a single directory
called <span class="stt">7-lastname1-lastname2</span>, which in turn contains two files, each
starting as follows:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Problem Set </span><span class="RktCmt">7</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Lastname1, Firstname1</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Lastname2, Firstname2 </span></td></tr></table></blockquote></div><div class="SIntrapara">The two files should be named
</div><div class="SIntrapara"><ul><li><p><span class="stt">lang.rkt</span>, for the revised language
implementation,</p></li><li><p><span class="stt">client.rkt</span>, for the revised language
client file,</p></li></ul></div><div class="SIntrapara">The directory may contain other files.</div></p><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_8.png" alt="image" width="707" height="7"/></p><p>Here are the grammar descriptions of the network flow programming
languages, slightly revised from <a href="6.html" data-pltdoc="x">6 &#8212;<wbr></wbr> Simple Types (a)</a>.</p><p><div class="SIntrapara"><span style="font-weight: bold">Types</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">Edge</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">Node</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">Weight</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">Path</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">[</span><span class="RktSym">Listof</span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">]</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr></table></div></p><p><div class="SIntrapara"><span style="font-weight: bold">Programs</span>
</div><div class="SIntrapara"><span class="RktVar">p</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3d%29%29" class="RktValLink" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktSym">q</span></div></p><p><span style="font-weight: bold">Nodes</span></p><p><table cellspacing="0" cellpadding="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr></table></p><p><span style="font-weight: bold">Questions</span></p><p><table cellspacing="0" cellpadding="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">q</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">solve</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><span style="font-weight: bold">Expressions</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">x</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~ce~bb%29%29" class="RktStxLink" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">{</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">:</span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">}</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">if0</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">w</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">o</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">argmax</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">argmin</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">edge</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">edge-to</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">edge-cost</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._first%29%29" class="RktValLink" data-pltdoc="x">first</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._rest%29%29" class="RktValLink" data-pltdoc="x">rest</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._empty%29%29" class="RktValLink" data-pltdoc="x">empty</a></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._empty~3f%29%29" class="RktValLink" data-pltdoc="x">empty?</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">path</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">path-cost</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym">path-list</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">o</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2A%29%29" class="RktValLink" data-pltdoc="x">*</a></span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2F%29%29" class="RktValLink" data-pltdoc="x">/</a></span></td></tr></table></div><div class="SIntrapara">See <a href="#%28counter._%28figure._fig~3anf%29%29" data-pltdoc="x">figure&nbsp;<span class="FigureRef">3</span></a> for a (somewhat nonsensical but syntactically
 comprehensive) sample program.</div></p><blockquote class="Figure"><blockquote class="Centerfigure"><blockquote class="FigureInside"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">&#8212;<wbr></wbr></span><span class="RktCmt"> the definitions </span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">maximizer</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">Path</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">Weight</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">Listof</span><span class="hspace">&nbsp;</span><span class="RktSym">Path</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">Path</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~ce~bb%29%29" class="RktStxLink" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">{</span><span class="RktSym">f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Path</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">Weight</span><span class="RktPn">)</span><span class="RktPn">}</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._~ce~bb%29%29" class="RktStxLink" data-pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">{</span><span class="RktSym">p*</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">Listof</span><span class="hspace">&nbsp;</span><span class="RktSym">Path</span><span class="RktPn">]</span><span class="RktPn">}</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">path</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">if0</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._empty~3f%29%29" class="RktValLink" data-pltdoc="x">empty?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p*</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">path-cost</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._argmax%29%29" class="RktValLink" data-pltdoc="x">argmax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">p*</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._empty%29%29" class="RktValLink" data-pltdoc="x">empty</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Node</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">to-b</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">Edge</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">edge</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">to-c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">Edge</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">edge</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">20</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">to-both</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">Listof</span><span class="hspace">&nbsp;</span><span class="RktSym">Edge</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">to-b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">to-c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._empty%29%29" class="RktValLink" data-pltdoc="x">empty</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Edge</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">&#8212;<wbr></wbr></span><span class="RktCmt"> the network </span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">to-both</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">edge</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktVal">30</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">edge</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktVal">30</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">node</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">&#8212;<wbr></wbr></span><span class="RktCmt"> the question </span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">solve</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">d</span><span class="hspace">&nbsp;</span><span class="RktSym">maximizer</span><span class="RktPn">)</span></td></tr></table></blockquote></blockquote><p class="Centertext"><span class="Legend"><span class="FigureTarget"><a name="(counter._(figure._fig~3anf))" x-target-lift="Figure"></a>Figure&nbsp;3: </span>A Sample Program</span></p></blockquote><p><span style="font-weight: bold">The Type System</span></p><p><div class="SIntrapara">We want to make sure that programs <span class="RktVar">p</span> are well-typed. Since the
data definition for programs refers to Nodes, Questions, and Expressions,
the design recipe dictates that the specification of the type system needs
four judgments:
</div><div class="SIntrapara"><ul><li><p><span class="RktPn">(</span><span class="RktSym">&#8866;p</span><span class="stt"> </span><span class="RktSym">p</span><span class="RktPn">)</span>, read as "without context, program <span class="RktSym">p</span> is
provably well-typed"</p></li><li><p><span class="RktPn">(</span><span class="RktSym">&#8866;n</span><span class="stt"> </span><span class="RktSym">G</span><span class="stt"> </span><span class="RktSym">n</span><span class="RktPn">)</span>, read as "in type context <span class="RktSym">G</span>, we can prove
node specification <span class="RktSym">n</span> well-typed"</p></li><li><p><span class="RktPn">(</span><span class="RktSym">&#8866;q</span><span class="stt"> </span><span class="RktSym">G</span><span class="stt"> </span><span class="RktSym">q</span><span class="RktPn">)</span>, read as "in type context <span class="RktSym">G</span>, we can prove
question <span class="RktSym">q</span> well-typed"</p></li><li><p><span class="RktPn">(</span><span class="RktSym">&#8866;e</span><span class="stt"> </span><span class="RktSym">G</span><span class="stt"> </span><span class="RktSym">e</span><span class="stt"> </span><span class="RktSym">t</span><span class="RktPn">)</span>, read as "in type context <span class="RktSym">G</span>, we can
prove expression <span class="RktSym">e</span> has type <span class="RktSym">t</span>"</p></li></ul></div><div class="SIntrapara">Note that the first three judgments do <span style="font-style: italic">not</span> need to prove that a
phrase has a specific type. It is understood that they establish that the
phrase&rsquo;s components are well-typed or have appropriate types. Also, the
last three judgments need contextual information, which represents in
left-to-right order the typed variable declarations encountered on the way
from the program to the specific phrase within the program.</div></p><p>The specific type rules follow. They imply scoping rules.</p><p><span style="font-weight: bold">Typing Programs</span></p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_d t_d) ...</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;n G n) ...</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;q G q)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">where G = ({x_d t_d} ... {x_n Node} ...)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- p</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;p (define x_d t_d e_d) ...</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">n = (node x_n e_n ...) ...</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">q)</span></p></td></tr></table></p><p><span style="font-weight: bold">Typing Nodes</span></p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_n Edge) ...</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- node-seq</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;n G (node x_n e_n ...))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_n [Listof Edge])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- node-list</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;n G (node x_n e_n))</span></p></td></tr></table></p><p>The first rule deals with a <span class="stt">node</span> specification where each outgoing
edge is specified individually; the second one allows programmers to
"insert" an entire list of outgoing edges (probably specified in separate
definition as in the above example in <a href="#%28counter._%28figure._fig~3anf%29%29" data-pltdoc="x">figure&nbsp;<span class="FigureRef">3</span></a>).</p><p><span style="font-weight: bold">Typing Queries</span></p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G x_from Node)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G x_to</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">Node)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">t)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">where t = ((Path -&gt; Weight) -&gt; ([Listof Path] -&gt; Path))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- question</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;q G (solve x_from x_to e))</span></p></td></tr></table></p><p><span style="font-weight: bold">Typing Expressions</span></p><p><div class="SIntrapara"><span style="font-style: italic">Core computational constructs</span>
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">where ((x_1 t_1) ... (x t) (x_2 t_2) ...) = G</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- variable</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G x t)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">where t = ((Path -&gt; Weight) -&gt; ([Listof Path] -&gt; Path))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- argmax</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G argmax t)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(where t = ((Path -&gt; Weight) -&gt; ([Listof Path] -&gt; Path)))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- argmin</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G argmin t)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e ((x t_dom) (x_1 t_1) ...) e t_rng)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- lambda</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e ((x_1 t_1) ...) (&#955; ({x t_dom}) e) (t_dom -&gt; t_rng))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_fun (t_dom -&gt; t_rng))</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_arg t_dom)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- fun-app</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (e_fun e_arg) t_rng)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_con Weight)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_thn t)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_els t)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- if0</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (if0 e_con e_thn e_els) t)</span></p></td></tr></table></div></p><p><span style="font-style: italic">Weights</span></p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- lit-const</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G w Weight)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_1 Weight)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_2 Weight)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- operations</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (o e_1 e_2) Weight)</span></p></td></tr></table></p><p><span style="font-style: italic">Edges</span></p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e Weight)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G x Node)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- edge</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (edge x e) Edge)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e Edge)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- edge-cost</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (edge-cost e) Weight)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e Edge)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- edge-to</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (edge-to e) Node)</span></p></td></tr></table></p><p><span style="font-style: italic">Lists</span></p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_1 t)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_2 [Listof t])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- cons</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (cons e_1 e_2) [Listof t])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- empty</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (empty t) [Listof t])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e [Listof t])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- empty?</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (empty? e) Weight)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e [Listof t])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- first</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (first e) t)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e [Listof t])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- rest</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (rest e) t)</span></p></td></tr></table></p><p>The rules for typing lists use a common trick in mathematics: use
a meta-variable (here <span class="RktSym">t</span>) to say that these types can be anything
as long as they are the same. This avoids repetitive specifications even if
the specified language lacks abstraction (for this facility) and the
programmer will have to produce repeated code.</p><p><span style="font-style: italic">Paths</span></p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_1 Weight)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e_2 [Listof Node])</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- path</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (path e_1 e_2) Path)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e Path)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- path-cost</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (path-cost e) Weight)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G e Path)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">--------------------------------------------------------- path-list</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">(&#8866;e G (path-list e) [Listof Node])</span></p></td></tr></table></p><p><span style="font-weight: bold">Tasks</span></p><ol><li><p>Implement the typed network flow language using the libraries and
macro-defining conventions that Stephen Chang developed during lecture.</p></li><li><p>Place the sample program from <a href="#%28counter._%28figure._fig~3anf%29%29" data-pltdoc="x">figure&nbsp;<span class="FigureRef">3</span></a> into a separate
client file and make sure it type checks.</p></li></ol><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="6.html" title="backward to &quot;6 --- Simple Types (a)&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="8.html" title="forward to &quot;8 --- Project Memo&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>