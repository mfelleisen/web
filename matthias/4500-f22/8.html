<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>8 --- Remote</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="shared.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="staff.html" class="tocviewlink" data-pltdoc="x">Staff</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="top-down.html" class="tocviewlink" data-pltdoc="x">Presenting a Milestone</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="maze.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Game:<span class="mywbr"> &nbsp;</span> Labyrinth</span></a></td></tr><tr><td align="right"></td><td><a href="components.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Components</span></a></td></tr><tr><td align="right"></td><td><a href="gems.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Gems</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> The Analysis</a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Maze</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> The Board</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> The State</a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Strategy</a></td></tr><tr><td align="right"></td><td><a href="local_protocol.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Logical Interactions</span></a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> Games!</a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> The Observer</a></td></tr><tr><td align="right"></td><td><a href="partner1.html" class="tocviewlink" data-pltdoc="x"><span style="color: blue">Howdy Pardner</span></a></td></tr><tr><td align="right"></td><td><a href="7.html" class="tocviewlink" data-pltdoc="x">7 &#8212;<wbr></wbr> The Clean Up</a></td></tr><tr><td align="right"></td><td><a href="remote.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Remote Interactions</span></a></td></tr><tr><td align="right"></td><td><a href="8.html" class="tocviewselflink" data-pltdoc="x">8 &#8212;<wbr></wbr> Remote</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="8.html" class="tocviewselflink" data-pltdoc="x">8 &#8212;<wbr></wbr> Remote</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.7.0.3</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="remote.html" title="backward to &quot;Remote Interactions&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h4><a name="(part._8)"></a>8 &#8212;<wbr></wbr> Remote</h4><a name="(part._chap~3a8)"></a><p><span style="color: blue">Due</span> Thursday, 17 November 2022, 11:59:59pm</p><p><span style="color: blue">Delivery</span> Place the product of this week&rsquo;s milestone into your git repo as follows:</p><ul><li><p>for the Programming Task, place <span class="stt">player.PP,</span> and <span class="stt">referee.PP</span> into <span class="stt">Maze/Remote/</span>, respectively;</p></li><li><p>for the Programming Task (2), place <span class="stt">server.PP</span> and <span class="stt">client.PP</span> into <span class="stt">Maze/Server/</span> and <span class="strike" style="text-decoration:line-through"><span class="stt">Mae/Client</span></span><span class="stt">Maze/Client</span>, respectively;</p></li><li><p>for the Testing Task, place <span class="stt">xbad2</span> and <span class="stt">Tests/</span> in a repo-level directory named <span class="stt">8</span>.</p></li></ul><p><span style="color: blue">Programming Task</span> It is time to launch phase 2 of our <a href="plan.html" data-pltdoc="x"><span style="color: red">Maze</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a>.  Your
software architect has derived a specification for the <a href="remote.html" data-pltdoc="x"><span style="color: red">Remote Interactions</span></a> from the
<a href="local_protocol.html" data-pltdoc="x"><span style="color: red">Logical Interactions</span></a>. The new specification includes a sign-up step.</p><p>Your task is to implement this server-client architecture as a layer atop of the
existing software.  At this moment, your code base contains almost all the
components needed for completing this task. <span class="refelem"><span class="refcolumn"><span class="refcontent">If you were to touch
your complex software for the logical part of the game, you would likely
<span class="emph">enbug</span> it. So don&rsquo;t touch the logical components.</span></span></span>  The OOD patterns
community teaches us that remote proxies are your friends here. They allow
developers to add a remote-communication layer to a software system while
leaving the logical parts of a software system undisturbed.</p><p>The <span class="emph">client</span> TCP-connects a player (or several players) to a server.</p><p>The <span class="emph">server</span> waits for TCP sign-ups for some time
20s
for a minimum number
(here, 2)
of remote clients to connect and sign up. As long as there
isn&rsquo;t this minimum number of clients signed up at the end of a waiting period,
the server re-enters the waiting state (just once) and for the same amount of
time.  Either waiting period also ends when the server has
accepted a maximal number
(here, 6)
of client sign ups.
If <span class="emph">at most one player</span> signs up by the end of the second waiting period,
the server doesn&rsquo;t run a game and instead delivers a simple default
result: <span class="hspace">&nbsp;</span><span class="stt">[ [], [] ]</span>.</p><p>A <span class="emph">server-client</span> sign-up is finished after the client has supplied the
player&rsquo;s name. The server waits for at most
2s
for the submission of the name.</p><p>If a sufficient number of clients sign up, the server hands them to the referee.
When the referee&rsquo;s work is done, it returns its results to the server.</p><p><span style="color: blue">Communication</span> In a distributed setting, it is not realistic to
assume well-formed and valid JSON messages. Here, it is arguably only
the relevant server-side components
that must protected themselves against this problem&#8212;<wbr></wbr>to eliminate misbehaving
player-clients. But, you may also wish to protect the relevant
client-side components, just in
case a server doesn&rsquo;t send well-formed, valid message. <span class="refelem"><span class="refcolumn"><span class="refcontent">Why?</span></span></span></p><p><span style="font-weight: bold">Note</span> From this perspective, the use of JSON for integration tests is
merely a way to supply a <span class="emph">system configuration</span>. By contrast, the JSON
messages among <span class="stt">server.PP</span> and <span class="stt">client.PP</span> is about data exchange between (non-trusting,
distributed) components.</p><p><span style="color: blue">Testing Task</span> Create a test harness named <span class="stt">xbad2</span>. The harness consumes
its JSON input from <span class="stt">STDIN</span> and produces its results to <span class="stt">STDOUT</span>.  Create
five tests and place them in the specified <span class="stt">Tests/</span> folder.</p><p>A test case always consists of given inputs and expected outputs. For this
course, a test consists of a pair of files: <span class="stt">n-in.json</span>, the input file, and
<span class="stt">n-out.json</span>, the expected output file, where <span class="stt">n</span> is an integer between 0
and the requested number of tests (exclusive).&#8212;<wbr></wbr><span style="font-weight: bold">Constraint</span> No test file
may exceed the size limit of 20Kb.</p><p>Its input format is similar to the one of <a href="7.html" data-pltdoc="x">7 &#8212;<wbr></wbr> The Clean Up</a>. It consists of a
<a href="8.html#%28tech._badplayerspec2%29" class="techoutside" data-pltdoc="x"><span class="techinside">BadPlayerSpec2</span></a> followed by a <a href="6.html#%28tech._refereestate%29" class="techoutside" data-pltdoc="x"><span class="techinside">RefereeState</span></a>.  The test
harness creates a series of players that are going to use the
specified strategies.  It then hands these players and the given state
to the referee, which runs the game to the end and computes the
winner(s). (The details will depend on your referee interface and data
representations.)</p><p>The output is the same as for <a href="7.html" data-pltdoc="x">7 &#8212;<wbr></wbr> The Clean Up</a>.</p><p><div class="SIntrapara">Here are the relevant data definitions:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">A </span><a name="(tech._badplayerspec2)"></a><span style="font-style: italic">BadPlayerSpec2</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is a JSON array of </span><a href="6.html#%28tech._p%29" class="techoutside" data-pltdoc="x"><span class="techinside">PS</span></a><span class="stt">, </span><a href="7.html#%28tech._badp%29" class="techoutside" data-pltdoc="x"><span class="techinside">BadPS</span></a><span class="stt">,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">and </span><a href="8.html#%28tech._badps2%29" class="techoutside" data-pltdoc="x"><span class="techinside">BadPS2</span></a><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">arrays.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">A </span><a name="(tech._badps2)"></a><span style="font-style: italic">BadPS2</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is a JSON array of four (4) elements:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">[</span><a href="6.html#%28tech._name%29" class="techoutside" data-pltdoc="x"><span class="techinside">Name</span></a><span class="stt">, </span><a href="6.html#%28tech._strategy%29" class="techoutside" data-pltdoc="x"><span class="techinside">Strategy</span></a><span class="stt">, </span><a href="7.html#%28tech._badfm%29" class="techoutside" data-pltdoc="x"><span class="techinside">BadFM</span></a><span class="stt">, </span><a href="8.html#%28tech._count%29" class="techoutside" data-pltdoc="x"><span class="techinside">Count</span></a><span class="stt">]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">A </span><a name="(tech._count)"></a><span style="font-style: italic">Count</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is a natural number between 1 and 7 (inclusive).</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">INTERPRETATION Requests a test with a player actinng badly.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">A bad strategy [n, s, b, k] a player named n that pursues strategy s</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">until method b is called. When b is called for the </span><span style="font-style: italic">k</span><span class="stt">th time,</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">the method goes into an infinite loop.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">GLOBAL CONSTRAINT The array of </span><a href="6.html#%28tech._refereeplayer%29" class="techoutside" data-pltdoc="x"><span class="techinside">RefereePlayer</span></a><span class="stt">s (in </span><a href="6.html#%28tech._refereestate%29" class="techoutside" data-pltdoc="x"><span class="techinside">RefereeState</span></a><span class="stt">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">contains as many players as the </span><a href="8.html#%28tech._badplayerspec2%29" class="techoutside" data-pltdoc="x"><span class="techinside">BadPlayerSpec2</span></a><span class="stt">. The order of players in</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><a href="8.html#%28tech._badplayerspec2%29" class="techoutside" data-pltdoc="x"><span class="techinside">BadPlayerSpec2</span></a><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is the same as the order in </span><a href="6.html#%28tech._refereestate%29" class="techoutside" data-pltdoc="x"><span class="techinside">RefereeState</span></a><span class="stt">.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">The test harness will no longer enforce the 7 x 7 board size as of</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">this test fest, but it will enforce the distinctness of homes.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span style="color: purple">Index is now any natural number.</span></p></td></tr></table></div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="remote.html" title="backward to &quot;Remote Interactions&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>