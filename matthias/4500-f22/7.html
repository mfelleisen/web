<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>7 --- The Clean Up</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="shared.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="staff.html" class="tocviewlink" data-pltdoc="x">Staff</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="top-down.html" class="tocviewlink" data-pltdoc="x">Presenting a Milestone</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="maze.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Game:<span class="mywbr"> &nbsp;</span> Labyrinth</span></a></td></tr><tr><td align="right"></td><td><a href="components.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Components</span></a></td></tr><tr><td align="right"></td><td><a href="gems.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Gems</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> The Analysis</a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Maze</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> The Board</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> The State</a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Strategy</a></td></tr><tr><td align="right"></td><td><a href="local_protocol.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Logical Interactions</span></a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> Games!</a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> The Observer</a></td></tr><tr><td align="right"></td><td><a href="partner1.html" class="tocviewlink" data-pltdoc="x"><span style="color: blue">Howdy Pardner</span></a></td></tr><tr><td align="right"></td><td><a href="7.html" class="tocviewselflink" data-pltdoc="x">7 &#8212;<wbr></wbr> The Clean Up</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="7.html" class="tocviewselflink" data-pltdoc="x">7 &#8212;<wbr></wbr> The Clean Up</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.7.0.3</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="partner1.html" title="backward to &quot;Howdy Pardner&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h4><a name="(part._7)"></a>7 &#8212;<wbr></wbr> The Clean Up</h4><a name="(part._chap~3a7)"></a><p><span style="color: blue">Due</span> <span class="strike" style="text-decoration:line-through">Wednesday</span><span style="color: purple">Thursday</span>, 10 November 2022, 11:59:59pm</p><p><span style="color: blue">Delivery</span> Place the product of this week&rsquo;s milestone into your git repo as follows:</p><ul><li><p>for the Programming Task, place <span class="stt">todo.md</span> into <span class="stt">Maze/Players/</span>;</p></li><li><p>for the Design Task, place <span class="stt">changes.md</span> into <span class="stt">Planning/</span></p></li><li><p>for the Testing task, place <span class="stt">xbad</span> and <span class="stt">Tests/</span> into a top-level
repo directory named <span class="stt">7</span></p></li></ul><p><span style="color: blue">Programming (Clean-up) Tasks</span> Like all software projects, yours has
accumulated a significant technical debt, partly due to the usual kinds of
disagreement between your "customer" and you, mostly due to the usual deadline
stress.</p><p>Your team manager has decided that the project needs to reduce this debt now
that you have a new partner. This will give you a chance to work through design
rationales, rewrite or document all difficult to decipher code snippets, and
reassess the qualities of the code base in general.</p><p><span style="font-weight: bold">Step 1</span> Compile a list of todo items and priority-rank them. Commit and
push as <span class="stt">todo.md</span>.</p><p>For sources of problems, consider the feedback you have gotten for the past six
milestones. Still-failing integration tests should get the highest
priority. Also, revisit all those purpose statements, complicated methods,
overly large functions, and unit-test suites about which your TAs complained.</p><p><span style="font-weight: bold">Step 2</span> Work through this todo list. As you complete an item, move it from
the todo list to a separate section, entitled &ldquo;Completed.&rdquo;  Add the git
commits plus the commit messages that fix the issue.</p><p>The TAs will cross-check that at the end all git commits are accounted for.</p><p><span class="emph">Guidance</span> A clean-up task should always look forward, attempt to
anticipate how the software may evolve. Here we provide two explicit
prompts. The first is <span class="emph">required</span> code revision; the second is the design
task, which does not affect the current programming task but may affect future
tasks. Additionally, the testing task may demand &ldquo;pay down&rdquo; but, in principle,
it should not. It essentially asks for a minor revision of your test script from
<a href="6.html" data-pltdoc="x">6 &#8212;<wbr></wbr> The Observer</a>; the referee component and the player directory should already
implement the functionality.</p><p><span style="color: red">Required Revisions</span> While you clean up your code, relax the condition that
a board must come with exactly seven rows and columns. The top-most row and the
left-most column remain movable, as do all other even-numbered rows and columns.</p><p>Additionally, let&rsquo;s impose the restriction that the players&rsquo; homes are
<span class="emph">distinct</span> tiles.</p><p>So far our test framework has enforced this size condition. It did <span class="emph">not</span>
enforce the distinctness of homes. As of the next milestone, the test framework
will no longer check the size condition, but it will enforce the distinctness of
homes. &ndash; This change in validity constraints does <span class="emph">not</span> affect code but
tests.</p><p><span class="emph">Pedagogy</span> These changes may point out infractions of rather basic design
rules that may have significant repercussions in terms of technical debt. Think
of them as simple examples.</p><p><div class="SIntrapara"><span style="color: blue">(Re)Design Task</span> The co-CEOs are considering changes to the rules and
would like to know from their development team how difficult it would be to
accommodate one or all of the following changes:
</div><div class="SIntrapara"><ul><li><p>blank tiles for the board</p></li><li><p>use movable tiles as goals</p></li><li><p>ask player to sequentially pursue several goals, one at a time</p></li></ul></div><div class="SIntrapara">Study the impact of each change on your code base. Rank it on a scale of 1
(extremely easy) to 5 (extremely hard) and explain your choice with two or three
complete sentences.</div></p><p><span style="font-weight: bold">Note</span> We have already decided which aspect of the rules to change. Your
answer will <span class="emph">not</span> influence our choice.</p><p><span style="color: blue">Testing Task</span> Create a test harness named <span class="stt">xbad</span>. The harness consumes
its JSON input from <span class="stt">STDIN</span> and produces its results to <span class="stt">STDOUT</span>.  Create
three tests and place them in the specified <span class="stt">Tests/</span> folder.</p><p>A test case always consists of given inputs and expected outputs. For this
course, a test consists of a pair of files: <span class="stt">n-in.json</span>, the input file, and
<span class="stt">n-out.json</span>, the expected output file, where <span class="stt">n</span> is an integer between 0
and the requested number of tests (exclusive).&#8212;<wbr></wbr><span style="font-weight: bold">Constraint</span> No test file
may exceed the size limit of 20Kb.</p><p>Its inputs consists of a <a href="7.html#%28tech._badplayerspec%29" class="techoutside" data-pltdoc="x"><span class="techinside">BadPlayerSpec</span></a> followed by a <a href="6.html#%28tech._refereestate%29" class="techoutside" data-pltdoc="x"><span class="techinside">RefereeState</span></a>.
The test harness creates a series of players that are going to use the specified
strategies.  It then hands these players and the given state to the referee,
which runs the game to the end and computes the winner(s). (The details will
depend on your referee interface and data representations.)</p><p>The output is an array of two arrays: (1) the first contains the alphabetically
sorted <a href="6.html#%28tech._name%29" class="techoutside" data-pltdoc="x"><span class="techinside">Name</span></a>s, of winners and (2) the second the alphabetically sorted
 <a href="6.html#%28tech._name%29" class="techoutside" data-pltdoc="x"><span class="techinside">Name</span></a>s of dropout players. <span style="font-weight: bold">Note</span> Your test harness could compute
 the second array without running the game. The TAs know about this illegal
 shortcut.</p><p><div class="SIntrapara">Here are the relevant data definitions:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">A </span><a name="(tech._badplayerspec)"></a><span style="font-style: italic">BadPlayerSpec</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is a JSON array of </span><a href="6.html#%28tech._p%29" class="techoutside" data-pltdoc="x"><span class="techinside">PS</span></a><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">and </span><a href="7.html#%28tech._badp%29" class="techoutside" data-pltdoc="x"><span class="techinside">BadPS</span></a><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">arrays.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">A </span><a name="(tech._badp)"></a><span style="font-style: italic">BadPS</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is a JSON array of three (3) elements:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">[</span><a href="6.html#%28tech._name%29" class="techoutside" data-pltdoc="x"><span class="techinside">Name</span></a><span class="stt">, </span><a href="6.html#%28tech._strategy%29" class="techoutside" data-pltdoc="x"><span class="techinside">Strategy</span></a><span class="stt">, </span><a href="7.html#%28tech._badfm%29" class="techoutside" data-pltdoc="x"><span class="techinside">BadFM</span></a><span class="stt">]</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">A </span><a name="(tech._badfm)"></a><span style="font-style: italic">BadFM</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is one of: "setUp","takeTurn","win".</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">INTERPRETATION Requests a test with a player actinng badly.</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">A bad strategy [n, s, b] a player named n that pursues strategy s</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">until method b is called. When b is called, the method</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">integer-divides 1 by 0 (which should raise an exception in all</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">chosen languages).</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">GLOBAL CONSTRAINT The array of </span><a href="6.html#%28tech._refereeplayer%29" class="techoutside" data-pltdoc="x"><span class="techinside">RefereePlayer</span></a><span class="stt">s (in </span><a href="6.html#%28tech._refereestate%29" class="techoutside" data-pltdoc="x"><span class="techinside">RefereeState</span></a><span class="stt">)</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">contains as many players as the </span><a href="7.html#%28tech._badplayerspec%29" class="techoutside" data-pltdoc="x"><span class="techinside">BadPlayerSpec</span></a><span class="stt">. The order of players in</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt"></span><a href="7.html#%28tech._badplayerspec%29" class="techoutside" data-pltdoc="x"><span class="techinside">BadPlayerSpec</span></a><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is the same as the order in </span><a href="6.html#%28tech._refereestate%29" class="techoutside" data-pltdoc="x"><span class="techinside">RefereeState</span></a><span class="stt">.</span></p></td></tr></table></div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="partner1.html" title="backward to &quot;Howdy Pardner&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>