<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>The Design Recipe</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="shared.css" title="default"/><link rel="stylesheet" type="text/css" href="thoughts.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Thoughts</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="Modular_Programming.html" class="tocviewlink" data-pltdoc="x"><span class="technical">Modular Programming</span></a></td></tr><tr><td align="right"></td><td><a href="trp.html" class="tocviewlink" data-pltdoc="x"><span class="technical">The Rational Programmer</span></a></td></tr><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="technical">The Design Recipe</span></a></td></tr><tr><td align="right"></td><td><a href="Apology.html" class="tocviewlink" data-pltdoc="x"><span class="personal">Apology</span></a></td></tr><tr><td align="right"></td><td><a href="All_As.html" class="tocviewlink" data-pltdoc="x"><span class="curriculum">All As</span></a></td></tr><tr><td align="right"></td><td><a href="Teaching_PL.html" class="tocviewlink" data-pltdoc="x"><span class="curriculum">Teaching PL</span></a></td></tr><tr><td align="right"></td><td><a href="NSF.html" class="tocviewlink" data-pltdoc="x"><span class="politics">NSF</span></a></td></tr><tr><td align="right"></td><td><a href="The_Laffer_Curve_of_Types.html" class="tocviewlink" data-pltdoc="x"><span class="technical">The Laffer Curve of Types</span></a></td></tr><tr><td align="right"></td><td><a href="Referential_Transparency.html" class="tocviewlink" data-pltdoc="x"><span class="technical">Referential Transparency</span></a></td></tr><tr><td align="right"></td><td><a href="Why_How_do_I_get_a_PhD.html" class="tocviewlink" data-pltdoc="x"><span class="curriculum">Why/<span class="mywbr"> &nbsp;</span>How do I get a Ph<span class="mywbr"> &nbsp;</span>D</span></a></td></tr><tr><td align="right"></td><td><a href="Free_Speech.html" class="tocviewlink" data-pltdoc="x"><span class="politics">Free Speech</span></a></td></tr><tr><td align="right"></td><td><a href="Developing_Developers.html" class="tocviewlink" data-pltdoc="x"><span class="curriculum">Developing Developers</span></a></td></tr><tr><td align="right"></td><td><a href="Growing_a_Programmer.html" class="tocviewlink" data-pltdoc="x"><span class="curriculum">Growing a Programmer</span></a></td></tr><tr><td align="right"></td><td><a href="Unions_for_PhD_Students_.html" class="tocviewlink" data-pltdoc="x"><span class="sci-pol">Unions for Ph<span class="mywbr"> &nbsp;</span>D Students?</span></a></td></tr><tr><td align="right"></td><td><a href="Racket_is____.html" class="tocviewlink" data-pltdoc="x"><span class="technical"><span class="emph">Racket</span> is ...</span></a></td></tr><tr><td align="right"></td><td><a href="why-pl2.html" class="tocviewlink" data-pltdoc="x"><span class="sci-pol">Why teach Ph<span class="mywbr"> &nbsp;</span>D core courses, with programming languages</span></a></td></tr><tr><td align="right"></td><td><a href="Danger__unsafe_languages.html" class="tocviewlink" data-pltdoc="x"><span class="technical">Danger:<span class="mywbr"> &nbsp;</span> unsafe languages</span></a></td></tr><tr><td align="right"></td><td><a href="What_should_the_core_achieve_.html" class="tocviewlink" data-pltdoc="x"><span class="curriculum">What should the core achieve?</span></a></td></tr><tr><td align="right"></td><td><a href="Python_for_Asset-Backed_Securities.html" class="tocviewlink" data-pltdoc="x"><span class="politics">Python for Asset-<wbr></wbr>Backed Securities</span></a></td></tr><tr><td align="right"></td><td><a href="Measuring_education.html" class="tocviewlink" data-pltdoc="x"><span class="curriculum">Measuring education</span></a></td></tr><tr><td align="right"></td><td><a href="Refereed_conferences__not_.html" class="tocviewlink" data-pltdoc="x"><span class="sci-pol">Refereed conferences, not!</span></a></td></tr><tr><td align="right"></td><td><a href="what-is-pl.html" class="tocviewlink" data-pltdoc="x"><span class="sci-pol">Why teach programming languages</span></a></td></tr><tr><td align="right"></td><td><a href="_.html" class="tocviewlink" data-pltdoc="x"><span class="special">.</span></a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="technical">The Design Recipe</span></a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="#%28part._sec~3amath%29" class="tocviewlink" data-pltdoc="x">How to Teach Mathematics in Grade School and High School</a></td></tr><tr><td align="right"></td><td><a href="#%28part._sec~3aquine%29" class="tocviewlink" data-pltdoc="x">How to Study Set Theory According to Quine</a></td></tr><tr><td align="right"></td><td><a href="#%28part._sec~3acasus.Belli%29" class="tocviewlink" data-pltdoc="x">Two Short Stories</a></td></tr><tr><td align="right"></td><td><a href="#%28part._sec~3arecipe%29" class="tocviewlink" data-pltdoc="x">The Design Recipe</a></td></tr><tr><td align="right"></td><td><a href="#%28part._sec~3asystematic%29" class="tocviewlink" data-pltdoc="x">Systematic Design in Ht<span class="mywbr"> &nbsp;</span>DP</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._sec~3amath%29" class="tocsubseclink" data-pltdoc="x">How to Teach Mathematics in Grade School and High School</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._sec~3aquine%29" class="tocsubseclink" data-pltdoc="x">How to Study Set Theory According to Quine</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._sec~3acasus.Belli%29" class="tocsubseclink" data-pltdoc="x">Two Short Stories</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._sec~3arecipe%29" class="tocsubseclink" data-pltdoc="x">The Design Recipe</a></td></tr><tr><td><span class="tocsublinknumber"></span><a href="#%28part._sec~3asystematic%29" class="tocsubseclink" data-pltdoc="x">Systematic Design in Ht<span class="mywbr"> &nbsp;</span>DP</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.4.0.4</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="trp.html" title="backward to &quot;The Rational Programmer&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Thoughts&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Apology.html" title="forward to &quot;Apology&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3><a name="(part._.The_.Design_.Recipe)"></a><span class="technical">The Design Recipe</span></h3><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Matthias Felleisen</p></span></div><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>08 Sep 2021</p></blockquote></blockquote></blockquote><p class="SHistory">Changed in version 1.1: Thu Feb 3 17:02:46 EST 2022, responses to
feedback from Michael Ballantyne, Cameron Moy, and Jason Hemann <br/></p><p class="SHistory">Changed in version 1.0: Thu Jan 20 11:49:54 EST 2022, initial release <br/></p><p>Colleagues and students have occasionally asked where the design recipe comes
from. Two sources inspired the design recipe: the approach to teaching of
mathematics I experienced in my high school and Quine&rsquo;s book on set theory.  For
the first, I am mostly grateful to Herr Dopfer&rsquo;s strict style; for the second, I
thank Nino Cocchiarella, one of many outstanding philosophy professors while I
was at Indiana.</p><p>My hope is that writing down this background will improve people&rsquo;s understanding
of where I wish to go with the design recipe, and it may even eliminate some
misunderstandings.</p><h4><a name="(part._sec~3amath)"></a>How to Teach Mathematics in Grade School and High School</h4><p>Contemporary teaching of mathematics emphasizes the idea of a &ldquo;correct answer.&rdquo; Some
teachers go as far as using multiple choice tests for mathematics problems. They
state a problem, provide a number of feasible answers including the correct one,
and students choose one of those. Grading such tests is easy; a machine can do it.
But checking whether the student guessed the right answer or accidentally chose
the wrong answer even while using the correct process becomes impossible.</p><p>The teachers of my high school (&ldquo;Gymnasium&rdquo; in Germany, grades 5 through 13)
used a rather different approach. From the very beginning, our teachers focused
on teaching a <span class="emph">clean</span> presentation of our thought processes that produced
the answer. In the beginning, the problems were simple, and having to follow a
process&#8212;<wbr></wbr>not to speak of writing it down in a readable manner&#8212;<wbr></wbr>seemed
pointless. But soon the topics and problems became complicated, and without a
systematic process and a clean presentation, students couldn&rsquo;t get anywhere.</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">During my school time, a C was a rock-solid, average grade.</span></span></span>
What happened when students arrived at the <span class="emph">wrong</span> answer, following a
systematic process and presenting their thoughts cleanly?</p><p>They got As.</p><p>And what happened to students who got the right answer but with a presentation
that didn&rsquo;t demonstrate a clear process?</p><p>They got Fs.</p><p>Did your teachers assign partial credit? Grades between A and F?</p><p>Yes they did, if elements of the presented process were correct and accessible.</p><p><div class="SIntrapara">Take a look at an extremely simple example, something that might show up in
grades 6 and 7:
</div><div class="SIntrapara"><blockquote><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="left" style="border-bottom: 1px solid black;"><p>the equation</p></td><td align="left" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;</span></p></td><td align="center" style="border-bottom: 1px solid black;"><p></p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;</span></p></td><td align="right" style="border-bottom: 1px solid black;"><p></p></td><td align="right" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;</span></p></td><td align="left" style="border-bottom: 1px solid black;"><p>why this step is correct</p></td></tr><tr><td align="left" valign="top"><p><span style="font-style: italic"></span>4<span style="font-style: italic"> * x</span><span style="vertical-align: super; font-size: 80%"><span style="font-style: italic"></span>2<span style="font-style: italic"></span></span><span style="font-style: italic"> + </span>2<span style="font-style: italic"></span>0<span style="font-style: italic"></span></p></td><td align="left" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="center" valign="top"><p><span style="font-style: italic">=</span></p></td><td align="center" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="right" valign="top"><p><span style="font-style: italic"></span>4<span style="font-style: italic"></span>0<span style="font-style: italic"></span></p></td><td align="right" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="left" valign="top"><p></p></td></tr><tr><td align="left" valign="top"><p><span style="font-style: italic"></span>4<span style="font-style: italic"> * x</span><span style="vertical-align: super; font-size: 80%"><span style="font-style: italic"></span>2<span style="font-style: italic"></span></span><span style="font-style: italic"></span></p></td><td align="left" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="center" valign="top"><p><span style="font-style: italic">=</span></p></td><td align="center" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="right" valign="top"><p><span style="font-style: italic"></span>2<span style="font-style: italic"></span>0<span style="font-style: italic"></span></p></td><td align="right" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="left" valign="top"><p>subtracting <span style="font-style: italic">n</span> from two equal numbers leaves them equal </p></td></tr><tr><td align="left" valign="top"><p><span style="font-style: italic">x</span><span style="vertical-align: super; font-size: 80%"><span style="font-style: italic"></span>2<span style="font-style: italic"></span></span><span style="font-style: italic"></span></p></td><td align="left" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="center" valign="top"><p><span style="font-style: italic">=</span></p></td><td align="center" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="right" valign="top"><p><span style="color: red"><span style="font-style: italic"></span>4<span style="font-style: italic"></span></span></p></td><td align="right" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="left" valign="top"><p>dividing two equal numbers by <span style="font-style: italic">n</span> <span style="color: blue"><span style="font-style: italic">!= </span>0<span style="font-style: italic"></span></span> leaves them equal </p></td></tr><tr><td align="left" valign="top"><p><span style="font-style: italic">x</span></p></td><td align="left" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="center" valign="top"><p><span style="font-style: italic">=</span></p></td><td align="center" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="right" valign="top"><p><span style="color: green"><span style="font-style: italic">+</span>2<span style="font-style: italic"></span></span></p></td><td align="right" valign="top"><p><span class="hspace">&nbsp;</span></p></td><td align="left" valign="top"><p>the (<span style="color: green">positive</span>) square root of two equal numbers is equal </p></td></tr></table></blockquote></div></p><p>The astute reader will have noticed the <span style="color: red">mistake</span> in the third step:
dividing <span style="font-style: italic"></span>2<span style="font-style: italic"></span>0<span style="font-style: italic"></span> by <span style="font-style: italic"></span>4<span style="font-style: italic"></span> is <span class="emph">not</span> <span style="font-style: italic"></span>4<span style="font-style: italic"></span>. But the steps and their
justifications are correct otherwise. Hence the &ldquo;student&rdquo; deserves an A (or a
14/15 on the actual scale used) for this solution&#8212;<wbr></wbr>if everything else is
correct.</p><p>Now the very same line as the mistaken calculation comes with a <span style="color: blue">blue
markup</span> in the justification part. Leaving off this constraint would partially
invalidate the sentence, because dividing a number by <span style="font-style: italic"></span>0<span style="font-style: italic"></span> is pointless.</p><p>Finally, the last line comes with two <span style="color: green">green markups</span>. Our teachers told
us the truth about square roots&#8212;<wbr></wbr>the positive and negative numbers work
out&#8212;<wbr></wbr>but initially insisted that we&rsquo;d consider only positive outcomes. An A+
student would say so in the rationale.</p><p>Our teachers did not insist on writing down these justifications for every
single problem. After getting it right a few times, leaving off the
justifications was okay&#8212;<wbr></wbr>if the presentation of the solution process implied
them and could be checked with a simple glance. Every day teachers would quickly
scan the (many) homework solutions in class, and they might call on
someone to explain every step for some problem.</p><p><div class="SIntrapara">In sum, teaching mathematics insisted on these points:
</div><div class="SIntrapara"><ul><li><p>the <span class="emph">solution process</span></p></li><li><p>the ability to provide <span class="emph">justifications</span> for each step</p></li><li><p>a clean <span class="emph">presentation</span> that would imply a justification if it was omitted.</p></li></ul></div><div class="SIntrapara">The curriculum started with algebra and geometry (mixed), including 2d shape, 3d
bodies plus some trigonometry; moved on to cover the very basics of rings,
fields, vector spaces, linear algebra, isomorphisms, homomorphisms; got analysis
(differentiation, integration); then used calculus to teach us the basics of
optimizations; and ended with functions on <span style="font-style: italic">R</span><span style="vertical-align: super; font-size: 80%"><span style="font-style: italic">n</span></span><span style="font-style: italic"></span> and a bit of toy material on
complex functions. At every point, the teaching was all about processes and
presentation of processes. Answer mattered little.</div></p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">As a side effect, this form of teaching also avoid the only
right-or-wrong idea about mathematics.</span></span></span></p><p>Presented this way, mathematics teaches people lessons for life, not just about
some basic mathematical facts (such as the Pythagorean theorem or the rules for
differentiating polynomials). Students would take a way that an orderly,
systematic search for solutions works; intermediate results are as important as
final products; and the ability to explain everything well&#8212;<wbr></wbr>to reflect&#8212;<wbr></wbr>matters.</p><p><span style="font-weight: bold">Note on &ldquo;Yes, we check their work.&rdquo;</span> In my experience with teaching 100s of
teachers in the United States, I have often gotten the reply &ldquo;of course we
check the work of our students&rdquo; when I presented an argument like the above. Every
follow-up conversation revealed, however, that teachers meant &ldquo;check the
work <span style="font-weight: bold">if</span> the answer is incorrect&rdquo; so that they could assign partial
credit. In other words, the emphasis is upsidw-down. Teachers in the US
check the answer first and, if the answer is wrong, try to find &ldquo;the work&rdquo; to
provide partial credit. By contrast, our teachers <span class="emph">always</span> started with the
students&rsquo; solution process and check the answer only at the very end.</p><h4><a name="(part._sec~3aquine)"></a>How to Study Set Theory According to Quine</h4><p>Quine&rsquo;s presentation of set theory and logic reinforced the idea of proceeding
systematically at the level of an entire system of thought. He starts with a
couple extremely basic axioms. Then he proves as much as possible, everything in
the set of implications. Once the limits of this hull become clear, he agrees to
add another axiom in order to be able to prove more theorems.</p><p>For example, induction is something we would like for the propositions on the
natural numbers. But the axioms to prove the induction theorem isn&rsquo;t added until
almost halfway through the book&#8212;<wbr></wbr>because it is possible to prove so much
without the axiom. Similarly, transfinite induction makes a late appearance,
only after the axiom about infinite unions is admitted.</p><h4><a name="(part._sec~3acasus.Belli)"></a>Two Short Stories</h4><p>Every major development has a <span style="font-style: italic">casus belli</span>, not just underlying reasons. The
development of the design recipe was triggered by <span class="emph">two</span> such events. The
design recipe for recursive data definitions had existed implicitly in
<span style="font-style: italic">The Little Lisper</span>; indeed, it had motivated the rewrite of the first to
the second edition. So when I taught a freshman course for the very first time
(F&rsquo;1992), I used the existing bits to teach an extremely fast course, mixing
materials from Abelson and Sussman&rsquo;s <span style="font-style: italic">Structure and Interpretation</span> with
Friedman and Wand&rsquo;s <span style="font-style: italic">Essentials</span>. But other than mixing in the core
elements of the design recipe for recursive data, the course was still taught
with the typical &ldquo;here&rsquo;s some new syntax, here are some examples, go modify
them&rdquo; style&#8212;<wbr></wbr>a style that is popular <span class="emph">and wrong</span> to this day.</p><p>A day after we had handed out the grades for the final, we held office hours so
students could complain. Nobody showed up for mine, so I joined Corky
Cartwright, my co-instructor, who was in the middle of an argument with a
student. I walked in to observe. In a nutshell, the argument was about one of
the &ldquo;warm up&rdquo; problems on the final. The problem had asked for a simple
recursive function, something on the order of <span class="emph">factorial</span>. The student&rsquo;s
answer consumed an entire letter-sized page, using every feature the course had
covered: <span class="RktSym"><a href="http://docs.plt-scheme.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span>, <span class="RktSym"><a href="http://docs.plt-scheme.org/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxLink" data-pltdoc="x">lambda</a></span>, <span class="RktSym"><a href="http://docs.plt-scheme.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span>, <span class="RktSym"><a href="http://docs.plt-scheme.org/reference/set_.html#%28form._%28%28quote._~23~25kernel%29._set%21%29%29" class="RktStxLink" data-pltdoc="x">set!</a></span>,
<span class="RktSym"><a href="http://docs.plt-scheme.org/reference/cont.html#%28def._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._call%2Fcc%29%29" class="RktValLink" data-pltdoc="x">call/cc</a></span>, and more. Corky had given a 0 for this answer, and the student
tried to convince him of the correctness of the code. As I walked in Corky had
finished entering it into Scheme and had begun exploring the function at the
REPL. He could not find a mistake.</p><p><div class="SIntrapara">This was the point where I intervened. I told Corky and the student that
correctness didn&rsquo;t matter here. What mattered was that an experienced programmer
had been unable to read the solution to a simple problem in a reasonable amount
of time (during the grading session). So if anybody had solved this kind of
problem with such code in reality, a maintainer would have to throw away this
code and start from scratch. However, this explanation revealed the
meta-problem:
</div><div class="SIntrapara"><blockquote><p>The course had emphasized writing &ldquo;correct&rdquo; solutions, and there was no
pedagogic rationale to condemn this code as an abomination that nobody else
should ever have to read.</p></blockquote></div><div class="SIntrapara">I left the office wondering how I could improve the introductory course so that
it would teach good coding habits while still aiming for &ldquo;obviously correct&rdquo; code.</div></p><p><div class="SIntrapara">Some time later I relayed this story to another colleague, Bruce Duba, who had
also taught this Scheme-based freshman course. I shared how frustrated I was
that our simplistic design slogan of the time&#8212;<wbr></wbr>&ldquo;function definitions follow
the shape of the data they process&rdquo;&#8212;<wbr></wbr>couldn&rsquo;t easily be used to give this
student&rsquo;s code a failing grade. Bruce&rsquo;s responded with a question:
</div><div class="SIntrapara"><blockquote><p>What if we could make the slogan explicit and apply it to even the simplest
function, say functions on Booleans, the simplest form of data? Why not start
with those instead of lists and trees?</p></blockquote></div></p><p>At first I was taken aback that Bruce would even consider abandoning the idea of
starting a course with functions on lists and ending it with a glimpse at the
kernel of an operating system and other key concepts from computer science. Once
I got over this shock&#8212;<wbr></wbr>many weeks later&#8212;<wbr></wbr>I began to consider the idea in depth
and realized that focusing on the systematic design of functions and developing
this idea for increasingly complex situations would truly amplify my
<span class="emph">Little Lisper</span> thinking.</p><p>I didn&rsquo;t teach the freshman course for another year, but when I did, these two
events were always on my mind.</p><h4><a name="(part._sec~3arecipe)"></a>The Design Recipe</h4><p><div class="SIntrapara">The design recipe is a two-dimension grid: one axis describes the design process
for individual functions, and the other axis describes the complexity of the
data definition(s) that specify the function&rsquo;s signature:
</div><div class="SIntrapara"><ul><li><p>The process axis adapts the mathematics teaching from <a href="#%28part._sec~3amath%29" data-pltdoc="x">How to Teach Mathematics in Grade School and High School</a>.</p></li><li><p>The data axis adapts Quine&rsquo;s way of explaining set theory from <a href="#%28part._sec~3aquine%29" data-pltdoc="x">How to Study Set Theory According to Quine</a>.</p></li></ul></div></p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">This essay emphasizes the instructor&rsquo;s perspective. The design
recipe also addresses a widely known student problem, namely, the &ldquo;blank screen
problem.&rdquo; Many students don&rsquo;t know how to get started, how to proceed when
confronted with a word problem and a blank screen. The design recipe can help
with this &ldquo;stuck state&rdquo; a lot.</span></span></span></p><p><div class="SIntrapara">Let&rsquo;s briefly look at each of these points. A systematic process must yield
intermediate products and must enable students to explain how to get from one
product to the next. Similarly, it must help instructors diagnose a student&rsquo;s
progress on a problem via the inspection of the intermediate products&#8212;<wbr></wbr>but
without focusing on the specifics of the problem. Now recall the basic six steps
for designing a one-task function:
</div><div class="SIntrapara"><blockquote><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td style="border-bottom: 1px solid black;"><p>the process step</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>the outcome</p></td></tr><tr><td valign="bottom"><p>develop a data representation</p></td><td valign="bottom"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td valign="bottom"><p>data definitions &amp; data examples</p></td></tr><tr><td valign="bottom"><p>understand the function&rsquo;s I/O</p></td><td valign="bottom"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td valign="bottom"><p>a function signature &amp; purpose statement</p></td></tr><tr><td valign="bottom"><p>illustrate the function&rsquo;s purpose</p></td><td valign="bottom"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td valign="bottom"><p>worked input-output examples</p></td></tr><tr><td valign="bottom"><p>collect all available information</p></td><td valign="bottom"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td valign="bottom"><p>the function&rsquo;s template</p></td></tr><tr><td valign="bottom"><p>fill in the holes of the template</p></td><td valign="bottom"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td valign="bottom"><p>the fill function definition</p></td></tr><tr><td valign="bottom"><p>run the I/O examples</p></td><td valign="bottom"><p><span class="hspace">&nbsp;&nbsp;</span></p></td><td valign="bottom"><p>a unit-test suite</p></td></tr></table></blockquote></div><div class="SIntrapara"><span class="refelem"><span class="refcolumn"><span class="refcontent">It is possible to swap the second with the third and fourth step.</span></span></span>
Every step is small. Every step has a well-defined outcome. Every step is based
on the outcomes of the preceding steps. And <a href="https://www.htdp.org/">How to Design Programs</a> supplies a universal
justification for each step. That is, like the justifications of steps in
mathematical problems, <a href="https://www.htdp.org/">How to Design Programs</a>&rsquo;s do <span class="emph">not</span> depend on the specific problem at
hand, but students can easily tailor them to a problem and a specific design step.</div></p><p>The first step of the design recipe is a difficult and an important step, and
yet usually within grasp of almost all students. Every programming language has
a sub-language for data (Booleans, chars, strings, integers, lists, arrays, and
so on). To run programs, information from the real world must be represented
with data in the chosen programming language.  And that&rsquo;s what is meant by
&ldquo;develop a data representation.&rdquo;</p><p>If this new approach to teaching programming must bring across that functions
are created&#8212;<wbr></wbr>and therefore understood&#8212;<wbr></wbr>in a <span class="emph">systematic</span> manner, it must
introduce data as carefully as the mathematics curriculum introduces more and
more complex concepts and as carefully as Quine adds axioms about sets.</p><p>By implication, the driving force must be the complexity of data <span class="emph">not</span> the
complexity of the features of the language. Indeed, adding complexity to data
must determine the order in which features are introduced.</p><p>Hence the book starts with &ldquo;atomic&rdquo; data: booleans, numbers (but see below),
chars, images, strings, symbols.  Next it looks at enumerations and structure
compositions of simple data, or as a modern programming language researcher
would say &ldquo;non-recursive algebraic types.&rdquo; Self-referential data definitions
come next, i.e., &ldquo;recursive algebraic types.&rdquo; To keep things simple, the
initial examples are lists and natural numbers. <span class="refelem"><span class="refcolumn"><span class="refcontent">Lazy lists or lazy
data in general could be used like functions.</span></span></span>  Trees follow. Eventually
functions are used as data to create (simple) abstractions.</p><p>To process basic, atomic data, functions use basic, atomic operations on these
pieces of data. This is algebra. To make case distinctions for non-recursive
algebraic datatypes, the language is equipped with conditionals. To deal with
recursive types, the book reveals that functions can be recursive.</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">Program design isn&rsquo;t as rigorous as set theory. So yes, the
development in the book comes with an occasional glitch that an ambitious
instructor may discover.</span></span></span>
At each stage, the design recipe dictates what kind of functions students
<span class="emph">can</span> develop and which ones they <span class="emph">cannot</span>. The addition of new forms
of data expands this design space&#8212;<wbr></wbr>the skill set of students to design
functions properly&#8212;<wbr></wbr>because programs can process new
forms of information and the expanded design recipe explains how to create such
functions systematically.</p><p><span style="font-weight: bold">Note on &ldquo;I have a design recipe for lists of numbers.&rdquo;</span> Contrary to
occasional statements in the literature, I do <span class="emph">not</span> think of the
(structural) design recipe (as presented above) as something that is tailored to
just a particular datatype or, worse, to one particular problem. For example,
there is <span class="emph">one</span> design recipe for lists and any form of tree. It applies to
classes of (shapes of) data definitions. But, even this statement is too narrow.
It is critical that the design recipe smoothly scales from simple classes of
definitions&#8212;<wbr></wbr>say enumerations of strings&#8212;<wbr></wbr>to complex forms&#8212;<wbr></wbr>say recursive
enumerations. There is never a need for taking away existing hints in the design
recipe&#8212;<wbr></wbr>just like Quine never removes an axiom.</p><p><span style="font-weight: bold">Note on the quality of design steps vs those of steps in a mathematical
calculation.</span>  Two objections to raise here are that (1) the steps of the design
recipe are not as small as those in mathematical calculations and (2) their
justifications aren&rsquo;t as simple either. Both of these objections are correct. It
is also correct that the set of skills isn&rsquo;t precisely defined by the data
dimension in design recipe, though this is rarely a problem. As far as I am
concerned, these objections merely point out that we may need additional work on
the design recipe. They certainly don&rsquo;t invalidate the idea of design recipes.</p><h4><a name="(part._sec~3asystematic)"></a>Systematic Design in HtDP</h4><p>The design recipe isn&rsquo;t all there is to &ldquo;design&rdquo; in the sense of the book&rsquo;s
title. As a matter of fact, this particular function design recipe is useful
only for functions have one purpose&#8212;<wbr></wbr>or in more traditional terms, perform one
task.  So there is more.</p><p>The title of <a href="https://www.htdp.org/">How to Design Programs</a> uses the word &ldquo;program,&rdquo; and therefore the book includes
two design recipes for complete programs. One is for simple batch programs, that
is, programs that consume the content of a file and produce another file. In
essence such programs compose string-processing functions, but the supporting
software assists with viewing such files as lists and trees. The other one is
for simple graphical-interactive programs, including programs that communicate
with a server program. These kind of programs process events, and therefore they
compose event-processing functions. Again, the supportive software simplifies
event processing greatly compared to old-style frameworks, though systems such
as React and Vue come close now.</p><p>The word &ldquo;compose&rdquo; refers to a generalization of the mathematical concept of
function composition. For both cases, the book&rsquo;s design suggestion is strict:
the tasks are split along those lines and some mechanism(s) compose the
functions that perform those tasks.</p><p>Finally there is also the idea that these string- and event-processing functions
need to perform more than one task. Think of one that consumes lists of numbers
and strings but is supposed to compute a property of just the numbers in this
list. This abstract problem statement suggests two tasks, and the book tells
students to design two functions and to then write a program that composes these
two functions.</p><p><div class="SIntrapara">A gap of <a href="https://www.htdp.org/">How to Design Programs</a>&rsquo;s systematic design approach is that it does not explain (too
much) how to come up with systematic separation of tasks and compositions of the
respective functions. Instead it tells students to follow certain slogans. Here
are the three most important ones: <span class="refelem"><span class="refcolumn"><span class="refcontent">These wordings are not verbatim
from the book.</span></span></span>
</div><div class="SIntrapara"><ul><li><p>Design one function per task.</p></li><li><p>Design a composition function if it must perform many tasks.</p></li><li><p>Define abstractions instead of copying and modifying code.</p></li></ul></div></p><p>My hope is to work out some form of &ldquo;recipe&rdquo; for these designs, too, for some
future edition of <a href="https://www.htdp.org/">How to Design Programs</a>.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="trp.html" title="backward to &quot;The Rational Programmer&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Thoughts&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="Apology.html" title="forward to &quot;Apology&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>