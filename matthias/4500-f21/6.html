<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>6 --- Games!</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="new_lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="staff.html" class="tocviewlink" data-pltdoc="x">Staff</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="trains.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Game:<span class="mywbr"> &nbsp;</span> Trains</span></a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Trains</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> The Analysis</a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> The Map</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> The Image</a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Game State</a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> The Strategy</a></td></tr><tr><td align="right"></td><td><a href="local_protocol.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Logical Interactions</span></a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewselflink" data-pltdoc="x">6 &#8212;<wbr></wbr> Games!</a></td></tr><tr><td align="right"></td><td><a href="partner1.html" class="tocviewlink" data-pltdoc="x"><span style="color: blue">Howdy Pardner</span></a></td></tr><tr><td align="right"></td><td><a href="7.html" class="tocviewlink" data-pltdoc="x">7 &#8212;<wbr></wbr> The Clean Up</a></td></tr><tr><td align="right"></td><td><a href="manager_protocol.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Logical Interactions 2</span></a></td></tr><tr><td align="right"></td><td><a href="8.html" class="tocviewlink" data-pltdoc="x">8 &#8212;<wbr></wbr> The League</a></td></tr><tr><td align="right"></td><td><a href="partner2.html" class="tocviewlink" data-pltdoc="x"><span style="color: blue">Howdy Pardner, Again</span></a></td></tr><tr><td align="right"></td><td><a href="remote.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Remote Interactions</span></a></td></tr><tr><td align="right"></td><td><a href="9.html" class="tocviewlink" data-pltdoc="x">9 &#8212;<wbr></wbr> Help!</a></td></tr><tr><td align="right"></td><td><a href="10.html" class="tocviewlink" data-pltdoc="x">10 &#8212;<wbr></wbr> This is it!</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="6.html" class="tocviewselflink" data-pltdoc="x">6 &#8212;<wbr></wbr> Games!</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.3.0.10</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="local_protocol.html" title="backward to &quot;Logical Interactions&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="partner1.html" title="forward to &quot;Howdy Pardner&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._6)"></a>6 &#8212;<wbr></wbr> Games!</h4><a name="(part._chap~3a6)"></a><p><span style="color: blue">Due</span> Wednesday, 03 November 2021, 11:59:59pm</p><p><span style="color: blue">Delivery</span> Place the product of this week&rsquo;s milestone into your repo as follows:</p><ul><li><p><div class="SIntrapara">for the Programming Task, place
</div><div class="SIntrapara"><ul><li><p><span class="stt">player.PP</span> in the <span class="stt">Player/</span> directory</p></li><li><p><span class="stt">referee.PP</span> in a <span class="strike" style="text-decoration:line-through">new</span> <span class="stt">Admin/</span> directory in <span class="stt">Trains/</span></p></li></ul></div></p></li><li><p><div class="SIntrapara">for the Design Task, place
</div><div class="SIntrapara"><ul><li><p><span class="stt">manager-player-interface.md</span> in <span class="stt">Planning/</span></p></li></ul></div></p></li><li><p>for the Testing Task, place <span class="stt">xstrategy</span> and <span class="stt">Tests/</span> in a repo-level directory named <span class="stt">6</span></p></li></ul><p><span style="color: blue">Programming Task</span> Co-design implementations for the following components,
which interact according to <a href="local_protocol.html" data-pltdoc="x"><span style="color: red">Logical Interactions</span></a>:</p><ul><li><p>a player component that performs the mechanical tasks and otherwise relies
on <span class="stt">strategy.PP</span> from <a href="5.html" data-pltdoc="x">5 &#8212;<wbr></wbr> The Strategy</a> to make decisions.</p><p>The component must include a construction functionality that creates a player
(representation, speak object, closure, etc.) from a <span class="emph">file path</span> to a strategy
class, module, or file. <span style="font-weight: bold">Hint</span> The strategy to be used does <span class="emph">not</span>
exist yet, and this functionality must work without any change for these new
strategies at distinct file paths that you will create in the future.</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">Here are things it <span class="emph">could</span>
do: (1) build a strategy chain; (2) spawn a thread that explores the tree of
scenarios for the next time the referee grants it a turn; (3) spawn many
threads, each exploring different strategies and compare their results. The
point is that a properly designed software system separates play mechanism from
strategy.</span></span></span></p><p>Right now, this player component is extremely simple. It mostly passes data to
its strategy and forwards the results to the referee. </p></li><li><p>a referee component, which can run a complete Trains game for a given
 game-map and a bunch of players (between 2 and 8 players, inclusive).</p><p>The referee may assume that the players are arranged in descending order of
 player age.  Your design decides how the referee is handed this sequence.
 Its task is to run the game with the given players and deliver the outcome of
 the game: a ranking of the surviving players plus those players that cheated or
 malfunctioned.</p><p>For testing purposes, the referee should be optionally abstracted over two
 pieces of functionality: (1) in what order to select (enough) destinations
 from the map for players to pick from; (2) a sequence of cards to hand to
 players. <span style="color: purple">Once a player picks two destinations, the referee removes
them from the sequence of destinations and leaves the sequence alone otherwise.</span>
 The <span class="emph">defaults</span> should be a method for randomly picking
 destinations and another one for randomly shuffling a sequence of
 250 colored cards.  </p></li></ul><p>For this milestone, you will need to think about failures within plug-in
components such as house players, external players, observers, etc. Such
failures should not bring down the system. This assignment thus demands the
identification of possibly abnormal interactions between referee and a
player. An interaction is <span class="emph">abnormal</span> if the player cheats (a logical
problem) or causes other undesirable run-time effects. Which of those your
implementation has to deal with depends entirely on design choices, but
exceptions and overly-long response time are guaranteed to be problems.  When
a referee notices such misbehavior, the corresponding player is eliminated
without ado.</p><p><span style="color: purple">When the referee removes a cheating/misbehaving player from its state,
it makes the player's occupied connections available for future use. Its rails
and cards are discarded.</span></p><p>In the purpose statement for your referee component, explicitly state what kind
of abnormal interactions that referee takes care of now and what kind are left
to the project phase that adds in remote communication.</p><p><span style="color: blue">Design Task</span> The next step is to design the tournament manager component.
It interacts with the 1000s of players that sign up for a tournament,
<span class="refelem"><span class="refcolumn"><span class="refcontent">How they sign up at the communication layer is <span class="emph">not</span> the manager&rsquo;s
problem, because this is definitely going to involve some remote
interactions.</span></span></span> the referee, and possibly tournament observers.</p><p>Expand the API for the player component so that the manager may also interact
with it. Supplement the protocol for referee-player interactions to include
manager-player interactions. Finally write down a specification of the
manager, i.e., what it receives, what it has to compute during a single
tournament, and what it may return.</p><p>Two pages should suffice. Less is more.</p><p>Keep in mind our <a href="plan.html" data-pltdoc="x"><span style="color: red">Trains</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a> when you work on designs.</p><p><span style="color: blue">Testing Task</span> Create a test harness for the <span class="emph">Hold-10</span> strategy and name
it <span class="stt">xstrategy</span> The harness consumes its JSON input from <span class="stt">STDIN</span> and produces
its results to <span class="stt">STDOUT</span>. Create five tests and place them in <span class="stt">Tests</span>.</p><p><span style="font-weight: bold">Constraint</span> No test file may exceed the size limit of 20Kb.</p><p>The input files consist of two JSON objects: a <a href="3.html#%28tech._map%29" class="techoutside" data-pltdoc="x"><span class="techinside">Map</span></a> and the <a href="5.html#%28tech._playerstate%29" class="techoutside" data-pltdoc="x"><span class="techinside">PlayerState</span></a>.
The former represents the game map, the latter the state that the referee
sends to a player when it is its turn.  The given <a href="5.html#%28tech._playerstate%29" class="techoutside" data-pltdoc="x"><span class="techinside">PlayerState</span></a> must be
consistent with the given <a href="3.html#%28tech._map%29" class="techoutside" data-pltdoc="x"><span class="techinside">Map</span></a>.</p><p>Its expected output is an <a href="6.html#%28tech._action%29" class="techoutside" data-pltdoc="x"><span class="techinside">Action</span></a>.</p><p><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">An </span><a name="(tech._action)"></a><span style="font-style: italic">Action</span><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">is one of:</span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">- the string </span><span class="stt">"more cards"</span><span class="stt"></span></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt"></span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">- an </span><a href="5.html#%28tech._acquired%29" class="techoutside" data-pltdoc="x"><span class="techinside">Acquired</span></a><span class="stt">. </span></p></td></tr></table></p><p>As always, the tests are well-formed and valid JSON.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="local_protocol.html" title="backward to &quot;Logical Interactions&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="partner1.html" title="forward to &quot;Howdy Pardner&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>