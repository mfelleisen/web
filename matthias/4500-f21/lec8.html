<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Lecture 8: Code Reviews, Code Walks, Code Inspections</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="new_lectures.html" class="tocviewselflink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="staff.html" class="tocviewlink" data-pltdoc="x">Staff</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="new_lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="lec1.html" class="tocviewlink" data-pltdoc="x">Lecture 1:<span class="mywbr"> &nbsp;</span> Software Development</a></td></tr><tr><td align="right"></td><td><a href="lec2.html" class="tocviewlink" data-pltdoc="x">Lecture 2:<span class="mywbr"> &nbsp;</span> Software Systems</a></td></tr><tr><td align="right"></td><td><a href="lec3.html" class="tocviewlink" data-pltdoc="x">Lecture 3:<span class="mywbr"> &nbsp;</span> Analysis and Design Principles</a></td></tr><tr><td align="right"></td><td><a href="lec4.html" class="tocviewlink" data-pltdoc="x">Lecture 4:<span class="mywbr"> &nbsp;</span> Components and Interfaces</a></td></tr><tr><td align="right"></td><td><a href="lec4-1.html" class="tocviewlink" data-pltdoc="x">Lecture 4a:<span class="mywbr"> &nbsp;</span> Interfaces and Protocols</a></td></tr><tr><td align="right"></td><td><a href="lec5.html" class="tocviewlink" data-pltdoc="x">Lecture 5:<span class="mywbr"> &nbsp;</span> The Nature of Software Developmemt</a></td></tr><tr><td align="right"></td><td><a href="lec6.html" class="tocviewlink" data-pltdoc="x">Lecture 6:<span class="mywbr"> &nbsp;</span> Socially Responsible Programming</a></td></tr><tr><td align="right"></td><td><a href="lec7.html" class="tocviewlink" data-pltdoc="x">Lecture 7:<span class="mywbr"> &nbsp;</span> Pair Programming</a></td></tr><tr><td align="right"></td><td><a href="lec8.html" class="tocviewselflink" data-pltdoc="x">Lecture 8:<span class="mywbr"> &nbsp;</span> Code Reviews, Code Walks, Code Inspections</a></td></tr><tr><td align="right"></td><td><a href="lec9.html" class="tocviewlink" data-pltdoc="x">Lecture 9:<span class="mywbr"> &nbsp;</span> Practice Code Walks</a></td></tr><tr><td align="right"></td><td><a href="lec10.html" class="tocviewlink" data-pltdoc="x">Lecture 10:<span class="mywbr"> &nbsp;</span> Practice Code Walks</a></td></tr><tr><td align="right"></td><td><a href="lec11.html" class="tocviewlink" data-pltdoc="x">Lecture 11:<span class="mywbr"> &nbsp;</span> Practicing Architectural Design</a></td></tr><tr><td align="right"></td><td><a href="lec12.html" class="tocviewlink" data-pltdoc="x">Lecture 12:<span class="mywbr"> &nbsp;</span> Answers; Design Discussion</a></td></tr><tr><td align="right"></td><td><a href="lec13.html" class="tocviewlink" data-pltdoc="x">Lecture 13:<span class="mywbr"> &nbsp;</span> Practice Design Inspections</a></td></tr><tr><td align="right"></td><td><a href="lec113-1.html" class="tocviewlink" data-pltdoc="x">Lecture 13a:<span class="mywbr"> &nbsp;</span> The Design Recipe and Presentations</a></td></tr><tr><td align="right"></td><td><a href="lec14.html" class="tocviewlink" data-pltdoc="x">Lecture 14:<span class="mywbr"> &nbsp;</span> Kent Dybvig on Software Design</a></td></tr><tr><td align="right"></td><td><a href="lec15.html" class="tocviewlink" data-pltdoc="x">Lecture 15</a></td></tr><tr><td align="right"></td><td><a href="lec16.html" class="tocviewlink" data-pltdoc="x">Lecture 16</a></td></tr><tr><td align="right"></td><td><a href="lec17.html" class="tocviewlink" data-pltdoc="x">Lecture 17</a></td></tr><tr><td align="right"></td><td><a href="lec18.html" class="tocviewlink" data-pltdoc="x">Lecture 18</a></td></tr><tr><td align="right"></td><td><a href="lec19.html" class="tocviewlink" data-pltdoc="x">Lecture 19</a></td></tr><tr><td align="right"></td><td><a href="lec20.html" class="tocviewlink" data-pltdoc="x">Lecture 20:<span class="mywbr"> &nbsp;</span> Design Alternatives</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="lec8.html" class="tocviewselflink" data-pltdoc="x">Lecture 8:<span class="mywbr"> &nbsp;</span> Code Reviews, Code Walks, Code Inspections</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.3.0.5</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="lec7.html" title="backward to &quot;Lecture 7: Pair Programming&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="new_lectures.html" title="up to &quot;Lectures&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="lec9.html" title="forward to &quot;Lecture 9: Practice Code Walks&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._lec8)"></a>Lecture 8: Code Reviews, Code Walks, Code Inspections</h4><a name="(part._chap~3alec8)"></a><p><span style="font-weight: bold">Today</span></p><ul><li><p>How to &ldquo;meet&rdquo; a new partner in this course</p></li><li><p>Volunteer for code walks and/or panel positions for Monday.</p></li></ul><p><span style="font-weight: bold">Lecture</span></p><p><div class="SIntrapara">Software comes with two sets of expensive flaws, even after we have two minds
working on a piece of code:
</div><div class="SIntrapara"><ul><li><p>The first set of really costly software mistakes concerns (unintentional)
violations of complex but unwritten logical invariants.</p></li><li><p>The second set of costly mistakes concerns bad designs, i.e., code that
cannot be understood by the next person who reads it.</p></li></ul></div><div class="SIntrapara">What kind of "cost" is involved?</div></p><p>The reason we have those problems is that two people can easily fall into the
&ldquo;group think&rdquo; trap, especially after they have worked together for a
substantial amount of time. Rotating people through pair-programming
partnerships reduces this &ldquo;group think&rdquo; attitude; sometimes it just increases
it. Every so often a piece of code needs a fresh pair of eyes.</p><h4><a name="(part._.Code_.Reviews__.Code_.Inspections__.Code_.Walks)"></a>Code Reviews, Code Inspections, Code Walks</h4><p><span class="refelem"><span class="refcolumn"><span class="refcontent"><span class="emph">My impression</span> is that these devices lead to occasional
flare-ups because people don&rsquo;t see each other and don&rsquo;t look each other in
the face when they make seriously negative statements. But this seems to
be extremely rare.</span></span></span></p><p>Over the past decade, software developers have accepted this idea of third-party
<span class="emph">reviews</span>, though a rather shallow form of it. Technically, they ask
colleagues to read the code in repositories that allow mark-ups, say
github. These people leave a few comments, though conversations with software
developers suggest that these comments are rarely deep and almost always
&ldquo;nice.&rdquo; The problem is that such automated intermediaries eliminates the
constructive face-to-face confrontation, conversations that truly reveal flaws
before they snowball into serious problems.</p><p>At the other end of the spectrum, people developed code <span class="emph">inspections</span>. In
the 19980s, both IBM&rsquo;s and ATT&rsquo;s labs studied how to inspect code deeply to find
bugs. During a code inspection, a code reader reads the code aloud to a panel
consisting of its creator, an inspector, and a secretary. The reader, inspector,
and secretary discuss what they see and what is read aloud&#8212;<wbr></wbr>and the developer
quietly listens. While this can be a painful experience for the developer,
researchers have demonstrated repeatedly in a variety of setting that code
inspections uncover many more mistakes than any other technique. The downside is
that it doubles the development time and increase the production cost; it is
difficult to estimate how much the removal of these bugs saves in future costs.</p><p>Here are some of the questions that the researchers posed and answered in a
systematic way with experiments:</p><ul><li><p>What is the purpose of a review?</p><p>The goal is to uncover flaws, not praise the code.</p></li><li><p>What is the optimal number of people for a review?</p><p>Three people, as sketched above, suffice. Some studies suggest that the
creator of the code takes notes.</p></li><li><p>Should these people know the problem?</p><p>No. The people must know the problem area and must have an idea how the
 presenters went about solving the problem.</p></li><li><p>Should these people have read the design/code before the review?</p><p>No. it turns out that the results of reviews are just as good when people
 studied the presented design/code first or when they see the design/code
 the first time during the review.</p></li><li><p>How should the presenters get feedback?</p><p>The result should be a memo that describes all the flaws. Code inspections
do not discuss solutions unless they are obvious.</p></li></ul><p>The studies also discuss various &ldquo;mechanics&rdquo; for an inspection, but these
 details don&rsquo;t matter.  They used a "confrontational" approach, placing the
 reviewers opposite of the presenters. Nowadays people use (occasionally
 anonymous) github mark-ups and on-line discussion boards.</p><p><div class="SIntrapara">In this course, we mix and match techniques from across this spectrum. A pair of
programmers jointly presents their code. Only one of them speaks and converses
with the panelists; each member of a pair must be in complete command of the
code. A three-person panel &ldquo;reads&rdquo; the presented code:
</div><div class="SIntrapara"><ul><li><p>The first is the <span class="emph">head reader</span> whose task it is to direct
the code walk, to make decisions when conflicts arise, or to
intervene when too many people talk at once.</p></li><li><p>The second is the <span class="emph">assistant reader</span>, because two pairs of
eyes are better at reading code than one. The assistant has no other
tasks than reading code.</p></li><li><p>The third one is a <span class="emph">secretary</span> whose task it is to take
notes. The result of these notes is a list of design flaws and bugs;
there is no need to describe solutions though if some were discussed,
a side note may be appropriate.</p></li></ul></div><div class="SIntrapara">The panelists do <span class="emph">not</span> have to read the code beforehand. They must have
a complete understanding of the problem, and they may have thought about
solutions though perhaps in a different setting than the presenters. Both of
these prerequisites apply in this course.</div></p><p>The goal of the code walk is to uncover design flaws and bugs.  Hence it is
important that the presenters focus on the complicated, not the boring parts
of their code. They can start with an purpose statement&#8212;<wbr></wbr>what is being
reviewed&#8212;<wbr></wbr>and an overview&#8212;<wbr></wbr>what are the major pieces, which one are the
focus of the review.</p><p>For the presentation of individual data representations and
methods/functions, the presenters can follow the design recipe. It is a good
guide to bring across a structure&#8212;<wbr></wbr>unless it was ignored during development.</p><p>The presentation turns into a conversation when panelists spot flaws. A
presenter must not accept every criticism but must also recognize when
criticism is appropriate. This back-and-forth calls for a delicate balance.
Like the presenters, the panelists can use the design recipe to question
code systematically.</p><p><span style="font-weight: bold">Pair Programming and Code Walks</span></p><p>We will downgrade every partner of a pair if we discover that one of the
partners is not up to speed with the code.</p><h4><a name="(part._.Homework_.E__.Show_and_.Tell)"></a>Homework E: Show and Tell</h4><ol><li><p>Explain the homework problem.</p><p>So far our exploratory programs consumed input from <span class="stt">STDIN</span> and sent input to
<span class="stt">STDOUT</span>. Both of these are stream devices, meaning we can think of them as
(strange) lists.</p><p>TCP input/output is another form of streaming devices. When web front ends
interact with web backends, they often use TCP (or a protocol atop) for the
communication layer.</p><p>This homework does it too. You will write a server, re-direct the TCP input
stream to the code of assignment C, and point the result to the TCP output
stream.</p><p>You will not write a client. Instead you will use a program called <span class="stt">netcat</span>
to connect to your server, running on the same machine or some other machine. </p></li><li><p>Explain <span class="emph">Racket</span> solution.</p></li></ol><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="lec7.html" title="backward to &quot;Lecture 7: Pair Programming&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="new_lectures.html" title="up to &quot;Lectures&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="lec9.html" title="forward to &quot;Lecture 9: Practice Code Walks&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>