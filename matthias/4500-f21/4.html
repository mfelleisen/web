<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>4 --- The Game State</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="new_lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="staff.html" class="tocviewlink" data-pltdoc="x">Staff</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="trains.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Game:<span class="mywbr"> &nbsp;</span> Trains</span></a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Trains</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> The Analysis</a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> The Map</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> The Image</a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewselflink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Game State</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="4.html" class="tocviewselflink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Game State</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.3.0.1</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="3.html" title="backward to &quot;3 --- The Image&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div><h4><a name="(part._4)"></a>4 &#8212;<wbr></wbr> The Game State</h4><a name="(part._chap~3a4)"></a><p><span style="color: blue">Due</span> Wednesday, 20 October 2021, 11:59:59pm</p><p><span style="color: blue">Delivery</span> Place the product of this week&rsquo;s milestone into your repo as follows:</p><ul><li><p>for the Programming Task, place</p><ul><li><p><span class="stt">player-game-state.PP</span> into <span class="stt">Common/</span></p></li><li><p><span class="stt">referee-game-state.PP</span> into a new <span class="stt">Trains</span>-level folder called <span class="stt">Admin/</span></p></li></ul></li><li><p>for the Design Task, place <span class="stt">player-interface.md</span> into <span class="stt">Planning/</span></p></li><li><p>for the Visualization task, place <span class="stt">xvisualize</span> and <span class="stt">Vis/</span> into a
repo directory named <span class="stt">4</span></p></li></ul><p>Since Python&rsquo;s naming system is badly designed and its convention interfere
with the specified name, Pythonistas may substitute <span class="stt">_</span> for <span class="stt">-</span> in these
file names.</p><p>All previous comments on code files apply.</p><p><span style="color: blue">Programming Task</span> Design and implement two game state data representations:
one for referees and one for players. An external representation of the second one
will make up the key piece of information that flows from the referee to the
players every time a referee grants a player a turn. <span class="refelem"><span class="refcolumn"><span class="refcontent">The difference is spelled out explicitly in <a href="trains.html" data-pltdoc="x"><span style="color: red">The Game: Trains</span></a>.</span></span></span></p><p><div class="SIntrapara">The data representations should come with these pieces of functionality,
assuming that the per-game map is available (as an explicit or implicit parameter):
</div><div class="SIntrapara"><ul><li><p>given a player game state, determine all connections that can still be
acquired;</p></li><li><p>given a referee game state, and a connection, decide whether it is legal
to acquire this connection for the currently active player;</p></li><li><p>given a referee game state, produce a player game state.</p></li></ul></div><div class="SIntrapara">The phrase &ldquo;piece of functionality&rdquo; may not directly translate into &ldquo;one
function&rdquo; or &ldquo;one method&rdquo; in your chosen language.</div></p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">The player will also communicate with the tournament
manager. See <a href="plan.html" data-pltdoc="x"><span style="color: red">Trains</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a>. You do not need to address this aspect yet.</span></span></span></p><p><span style="color: blue">Design Task</span> The player components must communicate with the
referee, which manages and arbitrates the game.  This communication
involves both function/method calls and orderings of those.  (Recall
this is called a <span class="emph">protocol</span>.) Since outsiders will create AI
plauers to this interface, it must be spelled out precisely and in
detail.  <span style="font-weight: bold">Hint</span> To start your brainstorming&#8212;<wbr></wbr>what is a software
system? What are the key phases of the game?</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent">An API is a documentation of a logical interface to a code
library and its calling conventions.</span></span></span></p><p>Design the API for a player component. The document, named <span class="stt">player-interface.PP</span>
should be a module in your language whose body is a wish list (signatures,
interpretations, purpose statements).</p><p>Two pages should suffice. Less is more.</p><p>Keep in mind our <a href="plan.html" data-pltdoc="x"><span style="color: red">Trains</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a> when you work on designs.</p><p><span style="color: blue">Visualization Task</span> Create a visualization harness named
<span class="stt">xvisualize</span>. The harness consumes its JSON input&#8212;<wbr></wbr>a <a href="3.html#%28tech._map%29" class="techoutside" data-pltdoc="x"><span class="techinside">Map</span></a>&#8212;<wbr></wbr>from
<span class="stt">STDIN</span>, pops up a window, visualizing the given map. The program must
close the window after 10s. Create one <a href="3.html#%28tech._map%29" class="techoutside" data-pltdoc="x"><span class="techinside">Map</span></a> input and place it in the specified
folder.&#8212;<wbr></wbr>As always, the tests are well-formed and valid JSON.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="3.html" title="backward to &quot;3 --- The Image&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<span class="nonavigation">next &rarr;</span></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>