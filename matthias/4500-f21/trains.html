<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>The Game: Trains</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="new_lectures.html" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="staff.html" class="tocviewlink" data-pltdoc="x">Staff</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="trains.html" class="tocviewselflink" data-pltdoc="x"><span style="color: red">The Game:<span class="mywbr"> &nbsp;</span> Trains</span></a></td></tr><tr><td align="right"></td><td><a href="plan.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Trains</span><span class="stt">.</span><span style="color: red">Com</span>, <span style="color: red">a Plan</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> The Analysis</a></td></tr><tr><td align="right"></td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">2 &#8212;<wbr></wbr> The Map</a></td></tr><tr><td align="right"></td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">3 &#8212;<wbr></wbr> The Image</a></td></tr><tr><td align="right"></td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">4 &#8212;<wbr></wbr> The Game State</a></td></tr><tr><td align="right"></td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">5 &#8212;<wbr></wbr> The Strategy</a></td></tr><tr><td align="right"></td><td><a href="local_protocol.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">Logical Interactions</span></a></td></tr><tr><td align="right"></td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">6 &#8212;<wbr></wbr> Games!</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="trains.html" class="tocviewselflink" data-pltdoc="x"><span style="color: red">The Game:<span class="mywbr"> &nbsp;</span> Trains</span></a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.3.0.5</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="assignments.html" title="backward to &quot;---Project Milestones&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="plan.html" title="forward to &quot;Trains.Com, a Plan&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._trains)"></a><span style="color: red">The Game: Trains</span></h4><a name="(part._chap~3atrains)"></a><p><span class="refelem"><span class="refcolumn"><span class="refcontent"><img src="ticket.png" alt="the game" width="228" height="241"/></span></span></span></p><p>The chosen game is inspired by <a href="https://www.daysofwonder.com/tickettoride/en/usa/"><span class="emph">Ticket to Ride</span></a>. Playing
the actual game may help develop some intuition but the physical game and the
implementation will significantly differ in details.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Most of the time when we discuss ideas, the words &ldquo;referee&rdquo;,
&ldquo;player&rdquo;, and so on refer to software components <span class="emph">not</span> people. Speaking
of things they own/receive/trade means "its" is most appropriate&#8212;<wbr></wbr>to remind you
of their inanimate nature.</p></blockquote></blockquote></blockquote><p><span style="font-weight: bold">Overview</span> The <span class="emph">Trains</span> game is about acquiring train lines and
getting from one place to another. The central game piece is a map of places and
direct train connections between places. Each connection has one of these
<a name="(tech._color)"></a><span style="font-style: italic">Color</span>s: <span style="color: purple">"red", "blue", "green", "white"</span>; its <a name="(tech._length)"></a><span style="font-style: italic">Length</span> is
one of 3, 4, 5}.  Two cities can be connected by one
color at most once.</p><p>The <span class="emph">referee</span> hands <span class="emph">players</span> colored cards and rails, which they keep
hidden from each other.  With a matching number of <span class="emph">colored cards</span>, a
player can acquire a connection between two places.  With a matching number of
<span class="emph">rails</span>, a player occupies the segments of an acquired connection. Once one
player has acquired and occupied a connection, other players cannot use it.</p><p>In addition to cards and rails, the referee also allows each player to pick a
couple of travel destinations. Each such <span class="emph">destination</span> is a pair of places
on the game map, not necessarily with a direct connection but guaranteed to be
connected via a path. The player&rsquo;s task is to create a route between the two
places of a destination. Like in Massachusetts, a <span class="emph">route</span> consists of a
number of connections. Like their cards, players hide their chosen destinations
from each other.</p><p>The player with the most points wins. Acquiring connections and reaching
destinations contribute to a player&rsquo;s point total. Each rail segment is worth
one point. Each destination is worth some number of points. If a player manages
to connect the specified places via the acquisition of connections, the points
are <span class="emph">added</span> to the player&rsquo;s total; otherwise they are
<span class="emph">subtracted</span>. Lastly, the player with the longest continuous path of rail
connections receives extra points.</p><p><span style="font-weight: bold">Pieces</span> There are a total of <span class="strike" style="text-decoration:line-through">200</span> <span style="color: purple">250</span> colored cards, 45 rails per player, and
one game map. Here is the game map of the physical game:</p><blockquote class="SCentered"><p><img src="map.png" alt="the train map" width="550" height="440"/></p></blockquote><p>A player implementation receives a map from its context. Here is an illustrative
map from the staff implementation:</p><blockquote class="SCentered"><p><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_25.png" alt="image" width="406" height="226"/></p></blockquote><p><div class="SIntrapara"><span style="font-weight: bold">Setting up the Game</span> The referee hands each player
</div><div class="SIntrapara"><ul><li><p><span class="strike" style="text-decoration:line-through">the total number of participants</span>;</p></li><li><p>a map for the game, that is, the map of places and connections;</p></li><li><p>four randomly chosen colored cards; and</p></li><li><p>the <span class="strike" style="text-decoration:line-through">same</span> <span style="color: purple">specified</span> number of rails.</p></li></ul></div><div class="SIntrapara">Then the referee assigns destinations. Concretely, starting with the oldest
player (and continuing by descending age), the referee hands each player five
destinations. The player chooses two and returns the remaining three.</div></p><p><span style="font-weight: bold">Playing a Turn</span></p><p><div class="SIntrapara">After all players are set up, the game begins. The referee grants players turns,
again starting with the oldest one (and continuing by descending age).  At each
turn a player may choose one of two actions:
</div><div class="SIntrapara"><ul><li><p>request additional cards:</p><ul><li><p>If the referee still has colored cards, the referee hands the player two
randomly chosen cards.</p></li><li><p>If the referee no longer has any colored cards, it ignores the request of
the player.</p></li></ul></li><li><p>acquire a connection:</p><p>To acquire a connection, the player hands the referee the required number of
matching cards and the same number of rails.</p></li></ul></div></p><p><span style="font-weight: bold">Ending a Game</span> When one of the player&rsquo;s number of rails drops to 2, 1, or
0 at the end of a turn, each of <span class="strike" style="text-decoration:line-through">the</span> <span style="color: purple">all other</span> remaining players get to take
one more turn.</p><p><span style="color: purple">The game also ends if every remaining player has had an opportunity to
play a turn and the state of the game does not change.</span></p><p><span style="font-weight: bold">Scoring</span> Each player receives one point per acquired segment,
<span class="refelem"><span class="refcolumn"><span class="refcontent">Several players may hold a longest <span class="strike" style="text-decoration:line-through">route</span> <span style="color: purple">path</span>.</span></span></span> and 20 points for
holding the longest continuous <span class="strike" style="text-decoration:line-through">route</span> <span style="color: purple">simple, acyclic path by points,
which equals a segment.</span></p><p>If a player manages to connect the places specified via a destination, the
referee adds 10 points to the player&rsquo;s total at the end of the game; otherwise
the referee subtracts 10 points.</p><p><span style="font-weight: bold">Ranking</span> The players are ranked according to their points.</p><p><span style="font-weight: bold">Warning</span> Like with all software projects, the details of the game may
change as experimentation with the prototypes suggests improvements.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="assignments.html" title="backward to &quot;---Project Milestones&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="plan.html" title="forward to &quot;Trains.Com, a Plan&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>