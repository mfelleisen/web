<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>II&nbsp;Principles</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="shared.css" title="default"/><link rel="stylesheet" type="text/css" href="figure.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="figure.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Socially Responsible <br/> Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="part_preface.html" class="tocviewlink" data-pltdoc="x">Prelude</a></td></tr><tr><td align="right">I&nbsp;</td><td><a href="part_one.html" class="tocviewlink" data-pltdoc="x">Perspective</a></td></tr><tr><td align="right">II&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Principles</a></td></tr><tr><td align="right">III&nbsp;</td><td><a href="part_three.html" class="tocviewlink" data-pltdoc="x">Project</a></td></tr><tr><td align="right">IV&nbsp;</td><td><a href="part_four.html" class="tocviewlink" data-pltdoc="x">Programming</a></td></tr><tr><td align="right"></td><td><a href="part_postlude.html" class="tocviewlink" data-pltdoc="x">Postlude</a></td></tr><tr><td align="right"></td><td><a href="part_old.html" class="tocviewlink" data-pltdoc="x">Old Material</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>II&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Principles</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3&nbsp;</td><td><a href="#%28part._ch~3a3art%29" class="tocviewlink" data-pltdoc="x">The Nature of Software Development</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._ch~3aego%29" class="tocviewlink" data-pltdoc="x">Egoless Programming</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._ch~3apair%29" class="tocviewlink" data-pltdoc="x">Pair Programming</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._ch~3a3review%29" class="tocviewlink" data-pltdoc="x">Software Inspections</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.12.0.1</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="part_one.html" title="backward to &quot;I Perspective&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Socially Responsible  Software Development&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="part_three.html" title="forward to &quot;III Project&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div><h3 class="heading">II<tt>&nbsp;</tt><a name="(part._part~3atwo)"></a>Principles<span class="button-group"><a href="#(part._part~3atwo)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><table cellspacing="0" cellpadding="0"><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._ch~3a3art%29" class="toclink" data-pltdoc="x">3<span class="hspace">&nbsp;</span>The Nature of Software Development</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._ch~3aego%29" class="toclink" data-pltdoc="x">4<span class="hspace">&nbsp;</span>Egoless Programming</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._ch~3apair%29" class="toclink" data-pltdoc="x">5<span class="hspace">&nbsp;</span>Pair Programming</a></p></td></tr><tr><td><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><a href="#%28part._ch~3a3review%29" class="toclink" data-pltdoc="x">6<span class="hspace">&nbsp;</span>Software Inspections</a></p></td></tr></table><p><table cellspacing="0" cellpadding="0"><tr><td><p>&#160;</p></td></tr><tr><td><p></p></td></tr><tr><td><p>&#160;</p></td></tr></table></p><p> What is software to its developer?</p><p>This question is at the heart of the conversation we must have about the
software development process and its social context. Even if developers claim
they are coding &ldquo;for just money,&rdquo; they still identify with their software to
some degree. On one hand, this identification is important. A developer who
identifies with his work is going to strive for high quality. On the other hand,
identification with the product is an obstacle to a positive feedback cycle. A
developer who identifies with his software may feel hurt when this product is
subjected to intense criticism.</p><p>Modern software shops recognize this dilemma and put an impersonal intermediary
between the developers and the reviewers (github comment section and the
like). It removes the necessity that the two people look at each other&#8212;<wbr></wbr>look
each other in the eye&#8212;<wbr></wbr>and this makes the process less personal, less social,
and less responsible. By contrast, this chapter of the book argues that, while this
reduction in direct communication may result in eliminating some amount of
conflict from developer teams, it does so by imposing a significant cost on the
people who work with the software now and even more so on those who work on it in the future.</p><p>Instead software developers must learn to remove their ego from the process and
turn negative feedback into positive actions. While nobody is born ready for
negative feedback, learning from it is possible with explicit practice. Ideally, a
developer can become so comfortable with criticism that it is solicited
explicitly. Internalizing this attitude is ideal for a socially responsible
software development process.</p><p>The following sections spell out how a developer can acquire a positive attitude
toward negative feedback. The first step is to remove one&rsquo;s ego from the
product.  The second is to embrace working in pairs. The final one is to solicit
team-wide criticism via probing inspections.</p><h3 class="heading">3<tt>&nbsp;</tt><a name="(part._ch~3a3art)"></a>The Nature of Software Development<span class="button-group"><a href="#(part._ch~3a3art)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>Software developers are artists, creators, designers, and inventors. The
software systems they create are like books, compositions, paintings, poems, or
sculptures. Like other creative people, developers labor and struggle to produce
these artifacts.</p><p>When developers see other people successfully and happily use their software,
they are, and should be, proud of their achievement.  One developer may point
out to her father which piece of an app&rsquo;s interface is hers; and another may
explain to his mother how his software discovers suspicious patterns in a
patient diagnosis file.</p><p>Similarly, developers are always happy when another developer remarks on the
clarity of their code, its efficiency, its low memory footprint, and so on. If
the other developer is a highly respected and highly experienced member of the
team, the praise is particularly meaningful.</p><p>Like all creators, software developers inevitably identify themselves with
their product and love to receive such praise for it or enjoy watching others
use it. In other words, they invest a big part of their ego in their creation.
This investment&#8212;<wbr></wbr>this identification&#8212;<wbr></wbr>is neither surprising nor bad.
Whenever people are deeply invested in a task, they are motivated to give their
best, to make a respected product.</p><p><table cellspacing="0" cellpadding="0"><tr><td><p>&#160;</p></td></tr><tr><td><p></p></td></tr><tr><td><p>&#160;</p></td></tr></table></p><p>The problem is that all creative people must stomach criticism, too. Authors
hate to read bad book reviews; composers don&rsquo;t want the audience to leave the
premiere early; painters prefer good-willed, &ldquo;nice&rdquo; people at their
vernissages; and poets might be reluctant to read their works in public. Why?
All creators fear negative criticism, because of their investment in the
product, because of their identification with it.  Deep down criticism of a
creative product is considered criticism of the creator&rsquo;s ego.</p><p>Developers are no different in this respect. End users may criticize their
software for being clunky, slow, or buggy. Worse, their colleagues may
criticize them for style-guide violations, lack of elegance, a badly chosen
data representation, and so on. While the former may hurt a bit, the latter
stings really hard because these colleagues are professionals whose opinions
count a lot, even if it is just within the developer&rsquo;s team.</p><p>Poets, painters, and other artists can hide. Society will simply ignore a
composition if newspapers pan it. Readers don&rsquo;t buy a novel that consistently
receives bad reviews. In short, the economic harm of such bad artistic creations
is relatively small. None of this is true for software developers.</p><p><table cellspacing="0" cellpadding="0"><tr><td><p>&#160;</p></td></tr><tr><td><p></p></td></tr><tr><td><p>&#160;</p></td></tr></table></p><p>Bad software can inflict immediate harm on users. It may shut down an
electricity grid, leaving millions stranded. It may cause financial harm. It may
down an airplane. You name it, software can do it. The worst aspect is that
software libraries and frameworks are migrated from one code base to another,
and the original creator may never find out where code ends up.</p><p>Badly written software also affects current and future colleagues.  One
colleague may have left yesterday for a better-paying job at a competing
company, and another one is assigned to his portion of the code base&#8212;<wbr></wbr>and it
turns out to be incomprehensible. The newly assigned colleague will have to work
extra hours to catch up with the rest of the team&#8212;<wbr></wbr>hours that, as mentioned in
the preceding section, come at the expense of spouses, children etc. Similarly,
imagine an intern who has just signed up for a six-months stint. She is pointed
to a code base of some 100 file-modules and is told to resolve some error
tickets. The code repository lacks any documentation of how to navigate the
modules, which one serves which purpose, or how they are related. All design
decisions are buried in commit messages, and there are thousands of commits. How
is she going to live up to the expectations of her mentor?</p><p>Think of the &ldquo;Year 2000&rdquo; problem already mentioned in <a href="part_one.html#%28part._ch~3alife%29" data-pltdoc="x">The Death of Software,  The Life of Software</a>.
Numerous programmers had to dig through huge volumes of decades-old software in the
late 1990s to find all instances of two-digit date declarations and all their
uses. They had to repair those systematically; they had to adjust how this
repaired code connected to old databases; and they had to make sure that the
code&rsquo;s functionality remained the same. And sadly, there were few people
left who actually knew the programming language, which they had to teach others
in addition to working on their revisions.</p><p>In contrast to most artistic creators, though, developers are consistently paid
a significant salary almost immediately after graduation. Furthermore, their
software often has a potentially large value. So unlike artists, software
developers &ldquo;owe&rdquo; their users and their colleagues. In particular, they owe
them an attitude that welcomes criticism, welcomes negative feedback and turns
those into positive changes to their products. Doing so means letting go of some
ego.</p><h3 class="heading">4<tt>&nbsp;</tt><a name="(part._ch~3aego)"></a>Egoless Programming<span class="button-group"><a href="#(part._ch~3aego)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p><span class="refelem"><span class="refcolumn"><span class="refcontent"><a href="https://www.wsj.com/articles/the-rare-workers-who-thrive-on-negative-feedback-1536672180?st=pc3k0nl2axwovrd&amp;reflink=desktopwebshare_permalink">Shellenbarger
at WSJ</a></span></span></span></p><p><div class="SIntrapara">In 2018, the Wall Street Journal&rsquo;s Sue Shellenbarger
wrote<span class="refelem"><span class="refcolumn"><span class="refcontent"><a href="https://www.wsj.com/articles/the-rare-workers-who-thrive-on-negative-feedback-1536672180">The Rare Workers Who Thrive
on Negative Feedback</a></span></span></span>
</div><div class="SIntrapara"><blockquote><p>Many people hate getting negative feedback and avoid dishing it out too,
fearing it will spark anger, dejection or even tears.</p><p>But some people actually want and even seek out criticism at work. Who are these
people?</p></blockquote></div><div class="SIntrapara">in a column on workplace and family affairs. Further along she reveals that
</div><div class="SIntrapara"><blockquote><p>[e]xperts in their fields tend to be motivated by criticism.</p></blockquote></div><div class="SIntrapara">They solicit criticism because they have come to understand it as a way to
improve themselves.</div></p><p><div class="SIntrapara">Decades before, Gerald Weinberg already noted how programmers benefited
tremendously from honest and frank feedback&#8212;<wbr></wbr>if they could let go of the ego in
their code. He coined the slogan <span class="emph">egoless programming</span>. The idea is rather
straightforward and is easily expressed with three bullets:
</div><div class="SIntrapara"><ul><li><p>Show your code to other developers and ask for feedback.</p></li><li><p>Expect, embrace, and evaluate criticism. If necessary, fix things.</p></li><li><p>Reflect on what happened.</p></li></ul></div><div class="SIntrapara">Rinse, repeat, and never stop.</div></p><p>In essence, both of these authors just focus our mind on the essence of learning
outside of school. Without sharing our work, without exposing ourselves to others,
we cannot hope to discover problems with our thinking. This is especially true
when this thinking turns into a message for current and future colleagues.</p><p><div class="SIntrapara">Implementing egoless programming is challenging.
</div><div class="SIntrapara"><blockquote><p>Egoless programming requires a significant change in mind set.
It must start with yourself and your desire to become an
expert developer.</p></blockquote></div><div class="SIntrapara">One consequence is that it can only be accomplished in a bottom-up manner, not
via commands from managers, which might merely antagonize the team. Setting an
example works well, and encouraging others to emulate the example helps spread
the idea.</div></p><p>So, first you separate yourself from your code. Then you need to find others
who are willing to listen and, ideally, reciprocate.  In some teams, doing so
might be straightforward. Its members may already practice egoless programming
and the critiquing techniques described in the following sections. In others,
you may have to bring up the idea with your team, because nobody has thought of
just doing it. You may find open minds, and everything will go well.</p><p>If nothing works, there are some old standbys: &ldquo;water cooler&rdquo; and &ldquo;vending
machine.&rdquo; Now these words are just metaphors for &ldquo;a place where developers
meet&rdquo; during a break, to chat, to exchange gossip, and so on. When programming
meant exploring the limits of computers, operating systems, and languages,
people congregated around card readers&#8212;<wbr></wbr>which read their programs&#8212;<wbr></wbr>and
printers&#8212;<wbr></wbr>which produced the program&rsquo;s outputs. There, while they waited, they
discussed their programs and exchanged hints on basic programming problems.</p><p>In short, make a point of finding contemporary &ldquo;water coolers&rdquo; and &ldquo;printers.&rdquo;
Or, if needed, create such places&#8212;<wbr></wbr>real ones, not virtual ones. Then use these
gatherings to learn from experienced developers, to show people what you&rsquo;re
working on and ask for criticism.</p><p>Let&rsquo;s say you have found a partner and a review uncovers flaws. Your reaction
is critical. Clarify to people that discovering flaws is <span class="emph">good for you and
good for the whole team</span>.  You can assess the flaw, evaluate your options, and
improve your code.  Doing so will help others, and your positive attitude about
finding flaws in time may infect others.</p><p>Also take time to reflect and draw general conclusions for such
mistakes. Sometimes it is possible to change habits based on a single
example. Other times it may take several critical conversations to figure out
the patterns of one&rsquo;s problems. In all cases, you will improve your skills.</p><p>Of course, you will also need to balance criticism with the ingrained perception
of others that criticism reflects badly on you and your skills. It will take
time to convince those skeptics, but if they notice improvements in your skill
set, they will see how it improves at a <span class="emph">faster rate</span> than theirs. Then the
time has come to suggest that they too can benefit from egoless programming and
negative feedback.</p><p><span style="font-weight: bold">Reading</span></p><p>Gerald M. Weinberg. <span style="font-style: italic">The Psychology of Programming.</span> Van Nostrand
Reinhold Company. 1971.&#8212;<wbr></wbr>The entire book is an excellent introduction to
the topic, but if you don&rsquo;t have time for the whole book, focus on  . It
directly addresses the idea of programming in a group, the principle of egoless
programming, and the importance of &ldquo;water cooler&rdquo; conversations.</p><h3 class="heading">5<tt>&nbsp;</tt><a name="(part._ch~3apair)"></a>Pair Programming<span class="button-group"><a href="#(part._ch~3apair)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>What happens when software developers program?</p><p>Obviously they write code. Before they can write code, they need to understand
the purpose of their new code; the context in which it exists and how it
interacts with this context; its minimal performance characteristics; and much
more. &ldquo;Understanding&rdquo; means <span class="emph">thinking</span>, as in, thinking through
someone&rsquo;s requests and about existing code. It also means thinking while coding
and reflecting on the code&rsquo;s context.</p><p>Coding doesn&rsquo;t always start from a blank page though. It is equally common that
developers must modify existing code. They must read and comprehend code. They
have to reconstruct the design rationale from comments and commit messages,
which means understanding the thinking of their predecessors.  When they finally
edit the code, they must not break the existing functionality. They have to formulate
new comments and new commit messages. And, if they wish to help their
successors, they should leave behind documents about what they found out from
reading the code. All of this just means more thinking.</p><p>Yet, coding isn&rsquo;t just thinking either. It requires a bunch of mechanical tasks,
like typing on a keyboard; selecting one of the identifiers when a completion
menu shows up; searching for descriptions of classes, functions, and methods;
managing code repositories; run tests; and meet with people to discuss one thing
or another. And this means that the developers&rsquo; thinking about code gets
constantly interrupted.</p><p>We all know that thinking is hard and interrupted thinking is harder. Contrary
to appearances, IDEs (interactive development environments) do not help (much)
<span class="refelem"><span class="refcolumn"><span class="refcontent">Soon machine learning AI will suggest completions of code
snippets. <span class="emph">Buyer beware.</span></span></span></span>
with thinking, though name completion, on-line parsing, and type checking
are helpful in many ways.  IDEs don&rsquo;t help with thinking because despite all the
progress of artificial intelligence (AI), software doesn&rsquo;t really think.  The only
way to get <span class="emph">immediate</span> feedback on thoughts is to work with another person,
which brings us to pair programming.</p><p><div class="SIntrapara">Ideally, <span class="emph">pair programming</span> works like
this:
</div><div class="SIntrapara"><ul><li><p>two people share one computer, one keyboard;</p></li><li><p>one of them acts as designated driver, the other as co-pilot;</p></li><li><p>the driver proposes ideas and creates code;</p></li><li><p>the co-pilot questions the code and requests explanations; and</p></li><li><p>after completing a unit of work, the two switch roles.</p></li></ul></div><div class="SIntrapara">In a team setting it is also common that every person pairs up with everyone
else on the team over the course of a project. It implies that the team members
get to know each other, their thinking, and their coding habits.</div></p><p>In some settings, sharing a computer may not work. In some companies, the
boundaries of coding are well-defined, including the commit to a version control
system.  In others, developers pick them as they see fit. Regardless, keeping
the roles in mind is the point.</p><p>The immediate purpose of a co-pilot is obvious. It is about checking the
spoken-out thinking of the driver to provide immediate and direct feedback.
But, the co-pilot is also a representative of the rest of the team. In this
light, it&rsquo;s the co-pilot&rsquo;s job to think &ldquo;if I don&rsquo;t understand it, I doubt my
colleagues will understand it.&rdquo; And if those colleagues don&rsquo;t understand it,
they cannot fix code without major effort when they find a bug and they cannot
easily add features if needed.</p><p>By extension, the co-pilot also represents those colleagues that aren&rsquo;t a part of
the team yet. Those colleagues may still be in high school. They may not be born
yet.  In short, the co-pilot makes sure that the driver acts in a socially
responsible manner, toward team members, new hires, and people who will maintain
the code in five, ten, or twenty years from now.</p><p><table cellspacing="0" cellpadding="0"><tr><td><p>&#160;</p></td></tr><tr><td><p></p></td></tr><tr><td><p>&#160;</p></td></tr></table></p><p>Pair programming has several benefits for developers, their teams, and their
company. Most importantly, one person&rsquo;s thinking is immediately checked by
another person. Thinking happens in our mind, and our mind doesn&rsquo;t cross-check
ideas easily. Hence, when we think just by ourselves for a long time, we may
build up an complex construction of ideas on top of some misconception&#8212;<wbr></wbr>bluntly
<span class="refelem"><span class="refcolumn"><span class="refcontent">Look up the term &ldquo;rubber duck debugging.&rdquo;</span></span></span>
put, we may get &ldquo;off the rails.&rdquo; Forcing ourselves to explain an idea to
someone else may reveal such misconceptions directly, or the partner may
discover them. Either way early discovery of thinking in the wrong direction is
beneficial.</p><p>Joint work also has psychological benefits. While some complex mathematical
problems may require long, hard, solo work, software development rarely calls
for this kind of deep thinking, this search for the creative spark. Yes, it
requires thinking but some of the thinking is just tedious, it is not creative
at the level of individual lines of code. Sharing makes it somewhat easier to
perform such work.</p><p>Shared work also means shared knowledge. If a team member has to stay home one
day due to sickness or a family emergency, past pair programming comes in
handy. The other team members have partnered with the absent one and have thus
acquired some understand of his code.</p><p>This benefit of shared knowledge of the entire project is even more important
when a team member quits. From the company&rsquo;s perspective, this benefit might be
the most important one, directly affecting the bottom line of this cost center.
All the money &ldquo;sunk&rdquo; into the member who&rsquo;s leaving doesn&rsquo;t translate into
lost knowledge that someone else has to figure out. It is distributed over the
entire team. A new hire can be assigned to the team, and she can pair-program
with others to acquire this shared understanding of the code base.</p><p><div class="SIntrapara">After reading all these positives, you would think that companies are racing to
implement pair programming across the board. Sadly, too many managers completely
fail to understand the nature of programming and the benefits of pairing up. The
most common objection is that &ldquo;two people are doing the work of one.&rdquo;  To
counter this nonsense takes careful and patient &ldquo;managing up&rdquo; with four
effective arguments deployed and re-deployed time and again:
</div><div class="SIntrapara"><ul><li><p>The software is going to run faster, use less space, and consume less
energy. Managers love performance arguments.</p></li><li><p>Shared knowledge about the code base reduces inefficiencies when someone
leaves. It turns programmers into replaceable assembly-line workers. Managers
like this idea as much as performance arguments.</p></li><li><p>Continuous partnering ensures that the code will be accessible three or
five year down the line after the product has become a profit center. The company
will be able to add extensions quickly and cheaply. Cost reduction arguments almost
always work, too.</p></li><li><p>Pair programming is also likely to get the software right faster than solo
work. Since bugs often cost money, bugs mean loss of profit.  If the cost motive
doesn&rsquo;t work, the profit idea will.</p></li></ul></div><div class="SIntrapara">The key is to learn a manager&rsquo;s language and to articulate advantages in those
terms.</div></p><p><span style="font-weight: bold">Reading</span></p><p>Laurie Williams, Robert Kesler. <span style="font-style: italic">Pair Programming Illuminated.</span>
Addison-Wesley. 2002.&#8212;<wbr></wbr>This short book collects in one place all that you need to
know about pair programming: what works, what doesn&rsquo;t, and how to &ldquo;sell&rdquo; it to
your team and manager.</p><h3 class="heading">6<tt>&nbsp;</tt><a name="(part._ch~3a3review)"></a>Software Inspections<span class="button-group"><a href="#(part._ch~3a3review)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h3><p>When two people stare at, and discuss, the same piece of software for long
enough, they will convince each other that &ldquo;it works.&rdquo; To fight this form
of unintentional collusion, teams must conduct <span class="emph">design and code
inspections</span>, also known as <span class="emph">design reviews</span> and <span class="emph">code
walks</span>. Colleagues with only peripheral involvement in the creation process
<span class="emph">inspect</span> the code and critique it.</p><p>The idea of code inspection dates back to the 1970s, a time when large software
companies began to understand that programming had turned into something akin to
an engineering activity. While design reviews had been used in many engineering
disciplines, adapting them to the engineering of software took some time. All
forms of review meant face-to-face meetings, and many different forms emerged:
code browsing, desk checking, peer review, and walk-through.</p><p>IBM&rsquo;s <span class="emph">formal code inspections</span> come in the form of a rigorously defined
process, based on rigorous investigations. The goal is to make the results of
these inspections measurable, with a focus on the rate at which errors are
detected. IBM and others who adopted this most rigorous form of formal code
inspection reported rather high error discovery rates, though everyone also
admitted that the costs of following a strict protocol were high.</p><p>Over the past couple of decades, especially with the emergence of commenting
interfaces to code repository software, the review of code has become
common. These reviews rely on one set of developers to leave comments for
another set of developers for a specific unit of code, often just a pull
request. Not all, but many companies practice such platform-mediated
reviews&#8212;<wbr></wbr>though sadly, these practices leave behind many of the qualities of
in-person inspections and conversations.</p><p>Since the various forms of inspection on this broad scale differ so much&#8212;<wbr></wbr>and
don&rsquo;t aim for the exact same outcomes&#8212;<wbr></wbr>this book uses the phrases <span class="emph">code
inspection</span> for the (informal) in-person version and <span class="emph">code review</span> for the
on-line version. Keep in mind that &ldquo;inspection&rdquo; as used here is <span class="emph">not</span>
IBM&rsquo;s formal inspection process, though it takes its inspiration from this work.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p>&#160;</p></td></tr><tr><td><p></p></td></tr><tr><td><p>&#160;</p></td></tr></table></div><div class="SIntrapara">Let&rsquo;s take a close look at the basic ideas behind in-person
inspections and on-line reviews.</div></p><p>Code inspections make reviewers face developers, that is, the latter look at the
former and vice versa as they discuss code. Having to face each other during the
and conversing in real time has some obvious advantages. When a reviewer
expresses a criticism, a presenter can re-articulates the comment to clarify its
meaning and a back and forth is likely to eliminate misunderstandings. This
clarification then becomes the basis for improving the software. A face-to-face
conversation is typically friendlier than other forms of exchanges; just think
how conversations on modern social networks deteriorate quickly. Furthermore, a
conversation naturally generates teaching situations in which reviewers can
learn from presenters and vice versa.</p><p>Facing someone to express criticism can trigger stress in both parties, however.
To reduce this stress, the inspection process needs to be properly
managed. Specifically, &ldquo;properly managed&rdquo; means developers must know how to
conduct inspections both as presenters and as reviewers. They must be prepared
and trained. According to several studies, the training&rsquo;s pay-off seems to be
rather large. These studies show that this low-tech technique discovers many
problems quickly and as a result saves a tremendous amount of developer time.</p><blockquote class="Herefigure"><blockquote class="Leftfigure"><blockquote class="FigureInside"><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td style="border-bottom: 1px solid black;"><p></p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>platform-mediated reviews</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>in-person inspection</p></td></tr><tr><td valign="top"><p>cost</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>a moderator may be needed</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>preparing the reviewer</p></td></tr><tr><td valign="top"><p>efficiency</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>time for analysis &amp; reflection</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>real-time conversations</p></td></tr><tr><td valign="top"><p>stress</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>from quasi-anonymous posting</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>from face-to-face criticism</p></td></tr><tr><td valign="top"><p>benefit</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>finds some bugs</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>finds bugs &amp; design flaws,</p></td></tr><tr><td valign="top"><p></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>improves readability, and</p></td></tr><tr><td valign="top"><p></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>develops human resources</p></td></tr><tr><td valign="top" colspan="5"><p>it&rsquo;s like handing code over to a maintainer who ...</p></td></tr><tr><td valign="top"><p></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>... joins in 10 years from now</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>... is an immediate colleague</p></td></tr><tr><td valign="top" colspan="5"><p>teaching situations arise ...</p></td></tr><tr><td valign="top"><p></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>N/A</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>... naturally</p></td></tr><tr><td valign="top" colspan="5"><p>conversations develop the skill ... </p></td></tr><tr><td valign="top"><p></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>N/A</p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>... to reason about code,</p></td></tr><tr><td valign="top"><p></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p></p></td><td valign="top"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top"><p>which helps with coding</p></td></tr></table></blockquote></blockquote><p class="Centertext"><span class="Legend"><span class="FigureTarget"><a name="(counter._(figure._fig~3areviews))" x-target-lift="Figure"></a>Figure&nbsp;2: </span>A comparison of the two dominant code inspection modes</span></p></blockquote><p>By contrast, platform-mediated code reviews eliminate all direct interactions.
Depending on the setup, an assigned developer or any developer in the world
reads portions of the software and leaves comments.  Reading means a reviewer
can take time to sit back to analyze and reflect. It can thus produce
well-thought and thorough comments. Spatial and temporal distance between the
creator of the software and the reviewer simulates the situation of a developer
who months or years from now is asked to read, comprehend, and modify the code;
this particular aspect directly contributes to the goal of social responsibility
to &ldquo;strangers.&rdquo; By removing the potentially awkward personal encounter during
critical sessions, on-line reviews seem to eliminate some stress.  Some
experience with such platforms suggests, however, that inviting quasi-anonymous
reviewers can encourage rather aggressive commenting and can lead to forms of
on-line harassment. In short, the cost isn&rsquo;t as low as it seems in some
situations.</p><p><a href="#%28counter._%28figure._fig~3areviews%29%29" data-pltdoc="x">Figure&nbsp;<span class="FigureRef">2</span></a> provides a concise summary of this comparison. As even
a cursory reading suggests, there is no clear winner. But, in the spirit of
putting the developer into the focus of the software development process, this
book focuses on software (code) inspections, especially because it is now the
less common form practiced in industry.</p><p><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p>&#160;</p></td></tr><tr><td><p></p></td></tr><tr><td><p>&#160;</p></td></tr></table></div><div class="SIntrapara">As mentioned, running software inspections requires preparing and training
developers for this task. This training must clarify the goals of inspections,
the panels, and some mechanics.  Not all setups work well; the one described in
the remainder of this section has proven its worth over a couple of decades.
When the prose speaks of &ldquo;students,&rdquo; the industrial reader should think
&ldquo;trainee.&rdquo;</div></p><p><div class="SIntrapara"><span class="emph">Goals</span> Inspections have two goals:
</div><div class="SIntrapara"><ul><li><p>understanding whether and how the software implements the specified
functionality, and</p></li><li><p>understanding whether and how it is designed systematically and organized
in way that facilitates reading and comprehending it.</p></li></ul></div><div class="SIntrapara">Concisely put, inspections aim to find bugs and design flaws.</div></p><p>The first goal, meeting expectations, is all about finding functionality and
performance errors. Usually the reviewers and the developers can easily agree
that some code will not behave in the specified manner, and they can also easily
settle whether an algorithm performs the desired task in quadratic time
(<span style="font-style: italic">O</span>(<span style="font-style: italic">n</span><span style="vertical-align: super; font-size: 80%"><span style="font-style: italic"></span>2<span style="font-style: italic"></span></span><span style="font-style: italic"></span>)<span style="font-style: italic"></span> where <span style="font-style: italic">n</span> is the size of the input) when it could easily be
linear (<span style="font-style: italic">O</span>(<span style="font-style: italic">n</span>)<span style="font-style: italic"></span>, with <span style="font-style: italic">n</span> again the size of the input).</p><p><div class="SIntrapara">The second goal, being comprehensible, raises somewhat amorphous questions. Here
are some examples:<span class="refelem"><span class="refcolumn"><span class="refcontent">For programming principles and sample
inspections, see <a href="part_three.html" data-pltdoc="x">Project</a>.</span></span></span>
</div><div class="SIntrapara"><ul><li><p>Is the code organized into functionally coherent and clearly delineated
units (modules, classes)?  Are those reasonably small?</p></li><li><p>Does each basic building block (function, method) have a clear purpose? A
purposeful name? A reasonable size?</p></li><li><p>Are the expressions and statements clear?</p></li></ul></div><div class="SIntrapara">Each of these questions has an obvious negative variant, and those are the ones
that reviewers will have in mind. Accordingly, the feedback will be about
convoluted units of code, over-sized functions, and too-clever-by-half expressions.</div></p><p><span class="emph">Critique and Criticism</span> So, inspections are about delivering critique,
that is, <span class="emph">constructive yet negative feedback</span>.  At some point in your life,
you might have been told to deliver all negative feedback in a sandwiched
manner: some nice feedback, the bad part, some more nice words. <span class="emph">Don&rsquo;t!</span>
During an inspection the bad parts get lost because for any piece of code worth
inspecting, you will find a lot of mistakes.  Packing every one of these in nice
words drowns the important parts of the conversations. Don&rsquo;t do it.</p><p>At the same time running a panel demands a lasor-sharp focus on the habits of
egoless programming. The reviewers must keep in mind that the presenter may be
stuck in ego-focused programming. It is thus imperative to ask <span class="emph">questions
about the software</span> <span style="font-weight: bold">not</span> <span class="emph">questions in terms of &ldquo;you, the
programmer.&rdquo;</span> Here are two examples:</p><blockquote><table cellspacing="0" cellpadding="0"><tr><td align="right"><p><span class="emph">good</span></p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td align="right"><p><span class="emph">bad</span></p></td></tr><tr><td align="right"><p class="goodbad"><div class="SIntrapara">How does this function account for the special case of 0?</div></p></td><td align="right"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td align="right"><p class="goodbad"><div class="SIntrapara">How do you deal with 0 in this function?</div></p></td></tr></table></blockquote><p>Panelists can bring out the best in presenters by emphasizing egoless
programming as much as presenters can do so by separating their ego from the
presented code.</p><p><span class="emph">The Review Panel</span> An inspection confronts a pair of developers with a
review panel. The pair is jointly responsible for a particular piece of
functionality. The panelists are typically members of the team, know the
presenters, and have a basic understanding of the presenter&rsquo;s task.</p><p><div class="SIntrapara">A panel has three members:
</div><div class="SIntrapara"><ol><li><p>a <span class="emph">head reader</span>, who assumes the dual role of reader and
moderator of the review effort;</p></li><li><p>an <span class="emph">assistant reader</span>, who may exclusively focus on reading the code
and posing questions about it; and</p></li><li><p>a <span class="emph">secretary</span>, who is primarily in charge of noting and describing the
problems that the panel finds. The secretary notes must suffice to write a report
on the problems in a short period of time. They do <span class="emph">not</span> record the exchanges
between the presenter and the panel.</p></li></ol></div><div class="SIntrapara">Experience with this arrangement and IBM&rsquo;s stringent protocol suggests that more
people do <span class="emph">not</span> improve the quality of the code walk.</div></p><p><span class="emph">Preparation</span> In general, the panelists should prepare themselves for an
inspection session in two ways. First, they should study the problem and any
existing specifications for the code to be inspected. Second, they should
familiarize themselves with the inspection protocol. This second point is
particularly important for panelists with little or no experience. Surprisingly,
studies of code inspection have repeatedly found that reading the code in
question ahead of an inspection session does not affect the outcome of reviews.</p><p>In a <span class="emph">course context</span>, the panelists are practicing code inspections after
having been told about the principles. So their preparation should focus on how
to run panels. By contrast, they do <span class="emph">not</span> need to prepare themselves
otherwise.  Since all students work on the same problem, they are intimately
familiar with its nature, its context, and the overall plan. Indeed, because all
students have worked out their own solutions by the time a panel meets, the real
danger is that panelists try to superimpose their own solution instead of
comprehending the presenters&rsquo; code.</p><p>In a <span class="emph">professional context</span>, the head reader should be an experienced
panelist who can implicitly teach the assistant reader. Both may understand the
role of panels, but they may not be as familiar with the problem itself. So
their preparation might be more about reading up on the problem and the
requirements rather than refreshing their knowledge about panels.</p><p><span class="refelem"><span class="refcolumn"><span class="refcontent"><a href="https://felleisen.org/srsd/Notes#supervising-a-panel">Evaluating Panels</a></span></span></span></p><p><span class="emph">Mechanics</span> During a panel presentation, the head and assistant readers
need to imagine themselves as developers who take over the presented code. When
they do not understand any aspect of the code, they must question it.</p><p><div class="SIntrapara">Although both readers can work with the presenter to figure out something, the
head reader must assume the role of moderator. Specifically, the head reader
must stop conversations that
</div><div class="SIntrapara"><ul><li><p>cause cross-talk or pursue conflicting goals;</p></li><li><p>seem to go nowhere promising;</p></li><li><p>turn into defenses of design decisions both readers consider wrong;</p></li><li><p>discuss <span class="emph">solutions</span>.<span class="refelem"><span class="refcolumn"><span class="refcontent">If a solution is obvious, the
secretary adds it to the notes and mark it as such.</span></span></span> Code inspections are about
<span class="emph">problems</span> only.</p></li></ul></div><div class="SIntrapara">In those cases, the head reader is responsible for getting the inspection back on
track.</div></p><p>The third item of this list is particularly important. Defensiveness on either
side means a person has investigated &ldquo;ego&rdquo; into the process. In such cases, it
is the head&rsquo;s task to remind everyone that questions are about the software
product and that critiques are also about the software product&#8212;<wbr></wbr>not any
person.</p><p><span class="emph">Presenters</span> While the presenters created the artifact as a pair, the
advantages of pair programming are realized only when both partners can explain
any piece of the presented code.  To check on this state of knowledge about the
code base, only one partner should present at any point in time. The other
partner may navigate if it facilitates the discussion and should take notes
about the problems. These notes will supplement what the pair receives from the
secretary. It is also important to let the two partners know that they will need
to switch at any moment during the code inspection.</p><p><table cellspacing="0" cellpadding="0"><tr><td><p>&#160;</p></td></tr><tr><td><p></p></td></tr><tr><td><p>&#160;</p></td></tr></table></p><p>At this point, it is also obvious that inspections are far more intense than
platform-based code reviews and that they produce more interesting
feedback. Like with pair programming, management may object to the seemingly
high cost of spending a good portion of a team&rsquo;s time on mutual code
inspections. The discussion with management has to address the same elements as
the ones for pair programming and must use the same managerial
language. Although formal code reviews come with large, measurable, and
reproducible advantages concerning error discovery&#8212;<wbr></wbr>see readings below&#8212;<wbr></wbr>it is
not obvious that informal inspections have the same attributes. Even if they do,
it is also well-known that management rarely reacts to data gathered elsewhere;
the goal has to be to &ldquo;sneak&rdquo; mutual code inspections into the process and
then to point to successes.</p><p><span style="font-weight: bold">Readings</span></p><p>The following articles are about <span class="emph">formal code inspections</span>, which differ
somewhat from the code inspection described here. They are even more
labor-intense than the ones presented here. In turn, they come with a high
pay-off in terms of error detection. Reading some of the original literature may
help clarify how much in-person inspections can accomplish and how to inject
them into existing organizations.</p><p>Michael E. Fagan. Advances in software inspection. <span style="font-style: italic">IEEE Transactions
on Software Engineering</span>. <span style="font-weight: bold">12</span>(7). 1986.&#8212;<wbr></wbr>Code inspections are the brain
child of Michael Fagan from IBM. He started investigating the idea in the 1970s
and reported on his progress in several papers. This one is the most substantial
report from this period.</p><p>Glen W. Russel. Experience with inspection in ultralarge-scale development. In
<span style="font-style: italic">IEEE Software</span> <span style="font-weight: bold">8</span>(1). 1991.&#8212;<wbr></wbr>This magazine article presents the
interesting claims that (1) code inspections may save up to 33 hours of
developer time per bug found and (2) code inspections find twice as many bugs as
integration testing. Both claims have to be understood in the specific context
of this experience (telecom switches, understanding of software development
processes). The article also comes with extensive hints on how to introduce
formal code inspections into a reluctant organization, ideas that probably apply
to all forms of code inspection.</p><p>Edward F. Weller. Lessons from three years of inspection data. In <span style="font-style: italic">IEEE
Software</span>. <span style="font-weight: bold">10</span>(9).&#8212;<wbr></wbr>Weller&rsquo;s article reports on experiences
similar to those from Russel, but for a different context. The goal is again to
inform readers how to manage their managers.</p><p>NASA Office of Safety and Mission Assurance. <span style="font-style: italic">Software Formal Inspections
Guidebook.</span> Technical Report OFFICE NASA-GB-A302.&#8212;<wbr></wbr>NASA has a large stake in
getting all software correct: unmanned missions cost billions of dollars and
for manned missions, lives depend on software as much as the surrounding
hardware. This report is one of their first comprehensive guide on code
inspections, though the agency and its contractors has had a long history of
working in groups on mission software.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="part_one.html" title="backward to &quot;I Perspective&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Socially Responsible  Software Development&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="part_three.html" title="forward to &quot;III Project&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>