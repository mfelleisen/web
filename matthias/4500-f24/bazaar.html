<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>The Bazaar Game</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><link rel="stylesheet" type="text/css" href="shared.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Software Development</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="abstract.html" class="tocviewlink" data-pltdoc="x">Abstract</a></td></tr><tr><td align="right"></td><td><a href="general.html" class="tocviewlink" data-pltdoc="x">General</a></td></tr><tr><td align="right"></td><td><a href="staff.html" class="tocviewlink" data-pltdoc="x">Staff</a></td></tr><tr><td align="right"></td><td><a href="communication.html" class="tocviewlink" data-pltdoc="x">Communicate</a></td></tr><tr><td align="right"></td><td><a href="readings.html" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right"></td><td><a href="lab.html" class="tocviewlink" data-pltdoc="x">Lab Book</a></td></tr><tr><td align="right"></td><td><a href="reviews.html" class="tocviewlink" data-pltdoc="x">In-<wbr></wbr>Class Reviews</a></td></tr><tr><td align="right"></td><td><a href="top-down.html" class="tocviewlink" data-pltdoc="x">Presenting a Milestone</a></td></tr><tr><td align="right"></td><td><a href="projects.html" class="tocviewlink" data-pltdoc="x">Assignments, Overview</a></td></tr><tr><td align="right"></td><td><a href="delivery.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Delivery</a></td></tr><tr><td align="right"></td><td><a href="make.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Make</a></td></tr><tr><td align="right"></td><td><a href="readme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Read Me</a></td></tr><tr><td align="right"></td><td><a href="testme.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Test Me</a></td></tr><tr><td align="right"></td><td><a href="debugging.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Debugging</a></td></tr><tr><td align="right"></td><td><a href="late.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Late Policy</a></td></tr><tr><td align="right"></td><td><a href="grades.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Code Grades</a></td></tr><tr><td align="right"></td><td><a href="projects2.html" class="tocviewlink" data-pltdoc="x">Assignments, Actual</a></td></tr><tr><td align="right"></td><td><a href="tahbpl.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>TAHBPL</a></td></tr><tr><td align="right"></td><td><a href="assignments.html" class="tocviewselflink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td></td><td><a href="assignments.html" class="tocviewlink" data-pltdoc="x">&#8212;<wbr></wbr>Project Milestones</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span style="color: red">The Bazaar Game</span></a></td></tr><tr><td align="right"></td><td><a href="components.html" class="tocviewlink" data-pltdoc="x"><span style="color: red">The Components</span></a></td></tr><tr><td align="right"></td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">1 &#8212;<wbr></wbr> The Plan</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span style="color: red">The Bazaar Game</span></a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="version">8.14.0.3</span></div><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="assignments.html" title="backward to &quot;---Project Milestones&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="components.html" title="forward to &quot;The Components&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div><h4 class="heading"><a name="(part._bazaar)"></a><span style="color: red">The Bazaar Game</span><span class="button-group"><a href="#(part._bazaar)" class="heading-anchor" title="Link to here">ðŸ”—</a><span style="visibility: hidden"> </span></span></h4><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Matthias Felleisen</p></span></div><a name="(part._chap~3abazaar)"></a><p><span class="refelem"><span class="refcolumn"><span class="refcontent"><img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict.png" alt="image" width="156" height="91"/></span></span></span></p><p>The game is inspired by <a href="https://boardgamegeek.com/boardgame/287/bazaar"><span class="emph">Bazaar</span></a>; the actual game
may help develop some intuition but the physical game and the implementation
differ in many ways.</p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>Most of the time when we discuss ideas, the words &ldquo;referee&rdquo;,
&ldquo;player&rdquo;, and so on refer to software components <span class="emph">not</span> people.
To remind you of their inanimate nature, it is best to use &ldquo;its&rdquo; or
&ldquo;it&rdquo;&#8212;<wbr></wbr>as in &ldquo;its game pieces&rdquo; or &ldquo;it&rsquo;s taking its turn.&rdquo;.</p></blockquote></blockquote></blockquote><p><span style="font-weight: bold">Informal Overview</span></p><p>The Bazaar game is a trading game for 2 to 6
players. The playing field is made up of two items:</p><ul><li><p>cards that players must purchase to get points, and</p></li><li><p>equations that allow players to trade what they own for alternatives.</p></li></ul><p>Players own &ldquo;pebbles,&rdquo; a form of currency and keep them hidden from other
players.  With these pebbles they can acquire the displayed cards; each purchase
yields a number of points depending on what the card displays and on how many
pebbles the player has left.  Once a card is purchased, it is replaced with
another one.  Players can also exchange (some of) their pebbles with a bank
according to the displayed equations.</p><p>The player with the highest total score wins when the game is over.</p><p><span style="font-weight: bold">Game Pieces</span></p><p><table cellspacing="0" cellpadding="0" class="boxed" style="border-collapse: collapse;"><tr><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p>Our version of the game comes with pebbles of the following colors: red, white, blue, green, yellow. </p></td><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p> <img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_2.png" alt="image" width="21" height="21"/> <img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_3.png" alt="image" width="21" height="21"/> <img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_4.png" alt="image" width="21" height="21"/> <img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_5.png" alt="image" width="21" height="21"/> <img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_6.png" alt="image" width="21" height="21"/> </p></td></tr><tr><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p> There are 100 pebbles overall, an equal number of each kind. </p></td><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p> </p></td></tr><tr><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p> A card displays five images of such pebbles, arranged in a circular manner, optionally decorated with a happy face in the center. </p></td><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p> <img style="vertical-align: 0px; margin: -3px -3px -3px -3px;" src="pict_7.png" alt="image" width="86" height="163"/>      <img style="vertical-align: -0.0px; margin: -3px -3px -3px -3px;" src="pict_8.png" alt="image" width="86.0" height="163.0"/> </p></td></tr><tr><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p> There are 20 cards overall. </p></td><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p> </p></td></tr><tr><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p> An equation shows two collections of pebbles on the sides of an <span class="stt">=</span> sign; each side has at least one and at most 4 pebbles. The two sides must not contain pebbles of the same color. </p></td><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p> <img style="vertical-align: -0.0px; margin: -3px -3px -3px -3px;" src="pict_9.png" alt="image" width="89.5390625" height="21.0"/> <br/> <br/> <img style="vertical-align: -0.0px; margin: -3px -3px -3px -3px;" src="pict_10.png" alt="image" width="123.5390625" height="21.0"/> </p></td></tr><tr><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p> There are 10 equations overall. </p></td><td valign="top" width="280" style="border-bottom: 1px solid black;; padding: 10px;"><p> </p></td></tr></table></p><p><span style="font-weight: bold">Setting up the Game</span></p><p>The <span class="emph">referee</span> picks 10 equations at random and makes them
available to the players. It also puts four cards on the playing field, again
visible to all players. Finally, it endows its bank with all of the colored
pebbles. That&rsquo;s it.</p><p><span style="font-weight: bold">Playing a Turn</span></p><p>A player&rsquo;s turn can proceed in one of three ways:</p><ul><li><p>A player can draw a random pebble from the bank of remaining pebbles.
(The physical game comes with a 5-sided die for this
purpose that shows the 5 colors; our digital players will
ask the referee to draw randomly instead.)  Subsequently, the player may
purchase cards from the visible cards by exchanging a matching bunch of
pebbles with the bank.</p></li><li><p>A player may exchange pebbles with the bank, using any of the applicable
10 equations as exchange rates.  (Equations may be used in
either direction; that&rsquo;s what &ldquo;equation&rdquo; means.)  If the bank does not own
enough pebbles for a particular equation, the corresponding trade cannot take
place.  Once exchanges are complete, the player can again purchase cards as
above.</p></li><li><p>Finally, a player may choose to skip obtaining a random pebble or
applying any exchange equations, and instead purchase a card or even several.</p></li></ul><p>Any legal exchange request comes with a price.  Per such request, the referee
removes the bottom-most card from the pile of invisible ones or, if this pile is
empty, it removes all visible cards, thus ending the game.</p><p>After a player&rsquo;s turn is over, the referee replaces the acquired cards, if any,
with fresh ones, if any are remaining, and grants the next player a turn.</p><p>The referee eliminates any player that violates any rules during a turn.
Elimination means that the player&rsquo;s pebbles disappear from the game.</p><p><span style="font-weight: bold">Scoring a Turn</span> A player receives points after buying a card.</p><p><table cellspacing="0" cellpadding="0" class="boxed" style="border-collapse: collapse;"><tr><td style="border-bottom: 1px solid black;"><p> pebbles left </p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p> points per plain card </p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p> ... card with face </p></td></tr><tr><td style="border-bottom: 1px solid black;"><p>3 or more</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>1</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>2</p></td></tr><tr><td style="border-bottom: 1px solid black;"><p>2</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>2</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>3</p></td></tr><tr><td style="border-bottom: 1px solid black;"><p>1</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>3</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>5</p></td></tr><tr><td style="border-bottom: 1px solid black;"><p>0</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>5</p></td><td style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td style="border-bottom: 1px solid black;"><p>8</p></td></tr></table></p><p>The referee keeps track of the scores on a per turn basis. The scores of all
players are visible.</p><p><span style="font-weight: bold">Ending a Game</span></p><p><div class="SIntrapara">The game ends if
</div><div class="SIntrapara"><ul><li><p>all players have been kicked at the end of a player&rsquo;s turn;</p></li><li><p>a player has 20 points at the end of its turn;</p></li><li><p>no more cards are available for purchase; or</p></li><li><p>the bank is empty and no player can buy a card.</p></li></ul></div><div class="SIntrapara">Technically, this means that a game may never end if the players pursue
strategies of not trading pebbles or not buying a sufficient number of cards. If
this ever happens, we will modify these instructions to avoid this problem in
the future.</div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="assignments.html" title="backward to &quot;---Project Milestones&quot;" data-pltdoc="x" rel="prev">&larr; prev</a>&nbsp;&nbsp;<a href="assignments.html" title="up to &quot;---Project Milestones&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="components.html" title="forward to &quot;The Components&quot;" data-pltdoc="x" rel="next">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>